import{r as a,j as e,y as g,a as G}from"./app-MMx-yB3G.js";import{A as N}from"./AuthenticatedLayout-DqJQv-Zq.js";import{B as y}from"./button.esm-t3q6Uns9.js";import{C as M}from"./CalendarComp-CG8eeFsK.js";import{I as h}from"./inputtext.esm-BmSpreyY.js";import{M as w}from"./MessageDialog-CK2qbNEd.js";import z from"./PreCreate-yxwUCMlY.js";import{T as K}from"./toast.esm-Cjq_L-3x.js";import{h as A}from"./helper-5dsdU7t8.js";import{B as Y}from"./blockui.esm-CvrtRqj0.js";import"./ApplicationLogo-7IUcid-B.js";import"./transition-Chc5_UKz.js";import"./iconbase.esm-48fxaLvN.js";import"./ripple.esm-CDHzLfkq.js";import"./virtualscroller.esm-Cs74YQWK.js";import"./index.esm-Bu_OTDB3.js";import"./overlayservice.esm-BwHVid_d.js";import"./csstransition.esm-C7-qQLFH.js";import"./toolbar.esm-Ck1JAFVg.js";import"./dialog.esm-BnJITAjQ.js";import"./dropdown.esm-BzwAhd2S.js";import"./index.esm-B6m0rV8L.js";import"./inputtextarea.esm-c6Gr0vxJ.js";import"./useSmsCounter-COrV3HUj.js";import"./confirmpopup.esm-bTiZjuf1.js";import"./accordion.esm-Bxv35aXX.js";import"./Update-DaL_hkzX.js";import"./formik.esm-DiYpwH7p.js";import"./inputmask.esm-Cb668VzC.js";import"./index.esm-vUqAtpS5.js";import"./Create-DQlYeJqQ.js";import"./TransitionGroup-CAdOuic2.js";function ue({auth:d,csrf_token:m,errors:s}){const[x,f]=a.useState(!0),[i,k]=a.useState({todayPackageCount:0,todayPackageCountPrepared:0,todayPackageCountShipped:0,todaySendedMessagesCount:0}),o=a.useRef(null),[p,c]=a.useState(!1),[j,S]=a.useState(null),[r,C]=a.useState(""),[n,v]=a.useState(""),[P,u]=a.useState(!1);a.useEffect(()=>{A(m).then(t=>{t.status&&k(t.data)}).catch(t=>{console.log(t),o.current.show({severity:"error",summary:"Hata",detail:"Bir hata oluştu.Lütfen sayfayı yenileyin."})}).finally(()=>{f(!1)}),s!=null&&s.message&&o.current.show({severity:"warn",summary:"Hata",detail:s.message+".Aranan Gönderi Kodu:"+s.code})},[]);const l=(t,b)=>{if(String(t).trim().length>2){let B="?"+b+"="+String(t).trim();g.visit(route("packages.arama")+B)}else o.current.show({severity:"info",summary:"Hata",detail:"Arama yapabilmek için en az 3 karakter girmelisiniz.Şuanda "+String(t).trim().length+" karakter girdiniz."})};return e.jsxs(N,{user:d.user,header:"Paket Sorgulama",info:[{icon:"pi-cart-plus",hidden:i.todayPackageCount===0,text:i.todayPackageCount===0?"Bugün Paket Girişi Yapılmadı":`${i.todayPackageCount} Paket Beklemede.Girişi Bekleniyor.`},{icon:"pi-box",hidden:i.todayPackageCountPrepared===0,text:i.todayPackageCountPrepared===0?"Bugün Paket Yapılmadı":`Bugün ${i.todayPackageCountPrepared} Sipariş Paketlendi`},{icon:"pi-truck",hidden:i.todayPackageCountShipped===0,text:i.todayPackageCountShipped===0?"Bugün Paket Kargolanmadı":`Bugün ${i.todayPackageCountShipped} Paket Kargolandı`},{icon:"pi-envelope",hidden:i.todaySendedMessagesCount===0,text:i.todaySendedMessagesCount===0?"Bugün Mesaj Gönderilmedi":`Bugün ${i.todaySendedMessagesCount} Mesaj Gönderildi`}],buttons:[{icon:"pi pi-plus",tooltip:"Yeni Paket Girişi",severity:"success",tooltipOptions:{position:"bottom"},size:"small",onClick:()=>{u(!0)}},{icon:"pi pi-users",tooltip:"Müşterileri Görüntüle",tooltipOptions:{position:"bottom"},size:"small",severity:"info",onClick:()=>{g.visit(route("customers.index"))}},{icon:"pi pi-send",tooltip:"Yeni Mesaj Gönder",severity:"warning",tooltipOptions:{position:"bottom"},size:"small",onClick:()=>{c(!p)}}],children:[e.jsx(G,{title:"Paket Sorgulama"}),e.jsx(K,{ref:o}),e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-[90rem] mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:[e.jsx(Y,{blocked:x,template:e.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-2 p-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Gönderi Koduna Göre"}),e.jsx(h,{id:"username",placeholder:"Gönderi Kodunu Giriniz",className:"w-full",value:n,onKeyDown:t=>t.key==="Enter"&&n.length>0&&l(n,"code"),onChange:t=>v(t.target.value)}),e.jsx("div",{className:"flex justify-end",children:e.jsx(y,{label:"Sorgula",disabled:!String(n).trim().length>0,tooltipOptions:{position:"top"},tooltip:"Arama Yapın",icon:"pi pi-search",severity:"success",className:"mt-2",size:"small",onClick:()=>l(n,"code")})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Müşteri Bilgilerine Göre"}),e.jsx(h,{id:"username",placeholder:"Müşteri Bilgilerini Giriniz",onKeyDown:t=>t.key==="Enter"&&r.length>0&&l(r,"customer"),className:"w-full",value:r,onChange:t=>C(t.target.value)}),e.jsx("div",{className:"flex justify-end",children:e.jsx(y,{label:"Sorgula",disabled:!String(r).trim().length>0,tooltipOptions:{position:"top"},onClick:()=>l(r,"customer"),tooltip:"Arama Yapın",icon:"pi pi-search",severity:"success",className:"mt-2",size:"small"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg",children:"Tarihe Göre"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(M,{value:j,setValue:S,onSearch:t=>{l(t,"date")}})})]})]})}),e.jsx(w,{csrf_token:m,visible:p,setVisible:c,auth:d}),e.jsx(z,{visible:P,setVisible:u,csrf_token:m,toast:o,auth:d})]})})})]})}export{ue as default};
