import{r as h,c as Q,P as at,I as Ve,O as J,b as yt,l as zn,j as c,R as ve,e as qn,Y as Wn,y as bt}from"./app-CZojdjD4.js";import{A as Gn}from"./ApplicationLogo-C3VFVwyk.js";import{B as U}from"./button.esm-Cv2vqUD6.js";import{I as Yn,C as ot,u as it,a as qt,i as Pe,h as Jn,g as Xn}from"./iconbase.esm-DvODm2qg.js";import{B as Zn,P as Qn,D as er,C as ce}from"./column.esm-CXMPILxJ.js";import{R as vt,S as tr}from"./ripple.esm-ByfALGiA.js";import{T as nr}from"./toolbar.esm-OLcWUjRd.js";import{I as Ue}from"./inputtext.esm-Bc9dGI99.js";import{D as rr}from"./dropdown.esm-C3w7lM7_.js";import{D as ar}from"./dialog.esm-BRb5edDq.js";import{C as or,c as ir}from"./confirmpopup.esm-CVN6frEl.js";import{B as sr}from"./blockui.esm-CT455C9i.js";import{c as cr}from"./helper-5dsdU7t8.js";import{T as lr}from"./toast.esm-Ci78TIq9.js";import"./inputnumber.esm-BkIM76z1.js";import"./virtualscroller.esm-aVvJseNT.js";import"./index.esm-BypTRDCm.js";import"./index.esm-Bh2Rs3JK.js";import"./csstransition.esm-BI2IUjb-.js";import"./overlayservice.esm-0R6tr4hB.js";import"./index.esm-DSWsuiEf.js";import"./index.esm-D-5U2K2D.js";import"./TransitionGroup-_qrsneQI.js";function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}var Wt=h.memo(h.forwardRef(function(e,t){var n=Yn.getPTI(e);return h.createElement("svg",Ke({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.90909 6.36364H4.45455C4.96087 6.36364 5.44645 6.1625 5.80448 5.80448C6.1625 5.44645 6.36364 4.96087 6.36364 4.45455V1.90909C6.36364 1.40277 6.1625 0.917184 5.80448 0.55916C5.44645 0.201136 4.96087 0 4.45455 0H1.90909C1.40277 0 0.917184 0.201136 0.55916 0.55916C0.201136 0.917184 0 1.40277 0 1.90909V4.45455C0 4.96087 0.201136 5.44645 0.55916 5.80448C0.917184 6.1625 1.40277 6.36364 1.90909 6.36364ZM1.46154 1.46154C1.58041 1.34268 1.741 1.27492 1.90909 1.27273H4.45455C4.62264 1.27492 4.78322 1.34268 4.90209 1.46154C5.02096 1.58041 5.08871 1.741 5.09091 1.90909V4.45455C5.08871 4.62264 5.02096 4.78322 4.90209 4.90209C4.78322 5.02096 4.62264 5.08871 4.45455 5.09091H1.90909C1.741 5.08871 1.58041 5.02096 1.46154 4.90209C1.34268 4.78322 1.27492 4.62264 1.27273 4.45455V1.90909C1.27492 1.741 1.34268 1.58041 1.46154 1.46154ZM1.90909 14H4.45455C4.96087 14 5.44645 13.7989 5.80448 13.4408C6.1625 13.0828 6.36364 12.5972 6.36364 12.0909V9.54544C6.36364 9.03912 6.1625 8.55354 5.80448 8.19551C5.44645 7.83749 4.96087 7.63635 4.45455 7.63635H1.90909C1.40277 7.63635 0.917184 7.83749 0.55916 8.19551C0.201136 8.55354 0 9.03912 0 9.54544V12.0909C0 12.5972 0.201136 13.0828 0.55916 13.4408C0.917184 13.7989 1.40277 14 1.90909 14ZM1.46154 9.0979C1.58041 8.97903 1.741 8.91128 1.90909 8.90908H4.45455C4.62264 8.91128 4.78322 8.97903 4.90209 9.0979C5.02096 9.21677 5.08871 9.37735 5.09091 9.54544V12.0909C5.08871 12.259 5.02096 12.4196 4.90209 12.5384C4.78322 12.6573 4.62264 12.7251 4.45455 12.7273H1.90909C1.741 12.7251 1.58041 12.6573 1.46154 12.5384C1.34268 12.4196 1.27492 12.259 1.27273 12.0909V9.54544C1.27492 9.37735 1.34268 9.21677 1.46154 9.0979ZM12.0909 6.36364H9.54544C9.03912 6.36364 8.55354 6.1625 8.19551 5.80448C7.83749 5.44645 7.63635 4.96087 7.63635 4.45455V1.90909C7.63635 1.40277 7.83749 0.917184 8.19551 0.55916C8.55354 0.201136 9.03912 0 9.54544 0H12.0909C12.5972 0 13.0828 0.201136 13.4408 0.55916C13.7989 0.917184 14 1.40277 14 1.90909V4.45455C14 4.96087 13.7989 5.44645 13.4408 5.80448C13.0828 6.1625 12.5972 6.36364 12.0909 6.36364ZM9.54544 1.27273C9.37735 1.27492 9.21677 1.34268 9.0979 1.46154C8.97903 1.58041 8.91128 1.741 8.90908 1.90909V4.45455C8.91128 4.62264 8.97903 4.78322 9.0979 4.90209C9.21677 5.02096 9.37735 5.08871 9.54544 5.09091H12.0909C12.259 5.08871 12.4196 5.02096 12.5384 4.90209C12.6573 4.78322 12.7251 4.62264 12.7273 4.45455V1.90909C12.7251 1.741 12.6573 1.58041 12.5384 1.46154C12.4196 1.34268 12.259 1.27492 12.0909 1.27273H9.54544ZM9.54544 14H12.0909C12.5972 14 13.0828 13.7989 13.4408 13.4408C13.7989 13.0828 14 12.5972 14 12.0909V9.54544C14 9.03912 13.7989 8.55354 13.4408 8.19551C13.0828 7.83749 12.5972 7.63635 12.0909 7.63635H9.54544C9.03912 7.63635 8.55354 7.83749 8.19551 8.19551C7.83749 8.55354 7.63635 9.03912 7.63635 9.54544V12.0909C7.63635 12.5972 7.83749 13.0828 8.19551 13.4408C8.55354 13.7989 9.03912 14 9.54544 14ZM9.0979 9.0979C9.21677 8.97903 9.37735 8.91128 9.54544 8.90908H12.0909C12.259 8.91128 12.4196 8.97903 12.5384 9.0979C12.6573 9.21677 12.7251 9.37735 12.7273 9.54544V12.0909C12.7251 12.259 12.6573 12.4196 12.5384 12.5384C12.4196 12.6573 12.259 12.7251 12.0909 12.7273H9.54544C9.37735 12.7251 9.21677 12.6573 9.0979 12.5384C8.97903 12.4196 8.91128 12.259 8.90908 12.0909V9.54544C8.91128 9.37735 8.97903 9.21677 9.0979 9.0979Z",fill:"currentColor"}))}));Wt.displayName="ThLargeIcon";function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function qe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ur(e){if(Array.isArray(e))return qe(e)}function dr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gt(e,t){if(e){if(typeof e=="string")return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(e,t)}}function pr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fr(e){return ur(e)||dr(e)||Gt(e)||pr()}function mr(e){if(Array.isArray(e))return e}function hr(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,s,i=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(m){u=!0,a=m}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return i}}function gr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wt(e,t){return mr(e)||hr(e,t)||Gt(e,t)||gr()}function de(e){"@babel/helpers - typeof";return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(e)}function yr(e,t){if(de(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(de(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function br(e){var t=yr(e,"string");return de(t)==="symbol"?t:String(t)}function We(e,t,n){return t=br(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vr={loadingIcon:"p-dataview-loading-icon",loadingOverlay:"p-dataview-loading-overlay p-component-overlay",emptyMessage:"p-dataview-emptymessage",header:"p-dataview-header",footer:"p-dataview-footer",content:"p-dataview-content",grid:function(t){var n=t.props;return Q("p-grid grid",{"p-nogutter grid-nogutter":!n.gutter})},root:function(t){var n=t.props;return Q("p-dataview p-component",We(We({},"p-dataview-".concat(n.layout),!!n.layout),"p-dataview-loading",n.loading))}},wr=`
@layer primereact {
    .p-dataview-loading {
        position: relative;
        min-height: 4rem;
    }

    .p-dataview .p-dataview-loading-overlay {
        position: absolute;
        z-index: 1;
        display: flex;
        align-items: center;
        justify-content: center;
    }
}
`,we=ot.extend({defaultProps:{__TYPE:"DataView",id:null,header:null,footer:null,value:null,layout:"list",dataKey:null,rows:null,first:0,totalRecords:null,paginator:!1,paginatorPosition:"bottom",alwaysShowPaginator:!0,paginatorClassName:null,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",paginatorLeft:null,paginatorRight:null,paginatorDropdownAppendTo:null,pageLinkSize:5,rowsPerPageOptions:null,currentPageReportTemplate:"({currentPage} of {totalPages})",emptyMessage:null,sortField:null,sortOrder:null,style:null,className:null,lazy:!1,loading:!1,loadingIcon:null,gutter:!1,itemTemplate:null,listTemplate:null,onPage:null,children:void 0},css:{classes:vr,styles:wr}}),De=ot.extend({defaultProps:{__TYPE:"DataViewLayoutOptions",id:null,style:null,className:null,layout:null,listIcon:null,gridIcon:null,onChange:null,children:void 0},css:{classes:{root:"p-dataview p-component p-dataview-layout-options p-selectbutton p-button-group",listButton:function(t){var n=t.props;return Q("p-button p-button-icon-only",{"p-highlight":n.layout==="list"})},gridButton:function(t){var n=t.props;return Q("p-button p-button-icon-only",{"p-highlight":n.layout==="grid"})}}}});function Ir(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Er(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,i;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return o=u.done,u},e:function(u){s=!0,i=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(s)throw i}}}}function Er(e,t){if(e){if(typeof e=="string")return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(e,t)}}function It(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Et(Object(n),!0).forEach(function(r){We(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Yt=h.memo(function(e){var t=it(),n=h.useContext(at),r=De.getProps(e,n),a=De.setMetaData({props:r}),o=a.ptm,s=a.cx,i=function(I,B){r.onChange({originalEvent:I,value:B}),I.preventDefault()},l=t(o("list")),u=t(o("grid")),m=Ve.getJSXIcon(r.listIcon||h.createElement(Zn,l),Ge({},l),{props:r}),A=Ve.getJSXIcon(r.gridIcon||h.createElement(Wt,u),Ge({},u),{props:r}),O=t({id:r.id,style:r.style,className:Q(r.className,s("root"))},De.getOtherProps(r),o("root")),x=t({type:"button",className:s("listButton"),onClick:function(I){return i(I,"list")}},o("listButton")),P=t({type:"button",className:s("gridButton"),onClick:function(I){return i(I,"grid")}},o("gridButton"));return h.createElement("div",O,h.createElement("button",x,m,h.createElement(vt,null)),h.createElement("button",P,A,h.createElement(vt,null)))}),Jt=h.memo(function(e){return e.template(e.item,e.layout)}),Xt=h.memo(h.forwardRef(function(e,t){var n=it(),r=h.useContext(at),a=we.getProps(e,r),o=h.useState(a.first),s=wt(o,2),i=s[0],l=s[1],u=h.useState(a.rows),m=wt(u,2),A=m[0],O=m[1],x={props:a,state:{first:i,rows:A}},P=we.setMetaData(x),T=P.ptm,I=P.cx,B=P.isUnstyled;qt(we.css.styles,B,{name:"dataview"});var F=h.useRef(null),y=a.onPage?a.first:i,E=a.onPage?a.rows:A,$=function(v){return a.dataKey?J.resolveFieldData(v,a.dataKey):null},D=function(){return a.totalRecords?a.totalRecords:a.value?a.value.length:0},Y=function(v){var L=Q("p-paginator-"+v,a.paginatorClassName),k=D();return h.createElement(Qn,{first:y,rows:E,pageLinkSize:a.pageLinkSize,className:L,onPageChange:te,template:a.paginatorTemplate,totalRecords:k,rowsPerPageOptions:a.rowsPerPageOptions,currentPageReportTemplate:a.currentPageReportTemplate,leftContent:a.paginatorLeft,rightContent:a.paginatorRight,alwaysShow:a.alwaysShowPaginator,dropdownAppendTo:a.paginatorDropdownAppendTo,ptm:T("paginator"),unstyled:a.unstyled,__parentMetadata:{parent:x}})},te=function(v){a.onPage?a.onPage(v):(l(v.first),O(v.rows))},d=function(v){if(a.paginator){var L=a.lazy?0:y,k=D(),V=Math.min(E+L,k);return v.slice(L,V)||[]}return v},S=function(){if(a.value){var v=new Map,L=J.localeComparator(r&&r.locale||yt.locale),k=fr(a.value),V=Ir(k),ye;try{for(V.s();!(ye=V.n()).done;){var be=ye.value;v.set(be,J.resolveFieldData(be,a.sortField))}}catch(xe){V.e(xe)}finally{V.f()}return k.sort(function(xe,Vn){var Un=v.get(xe),Kn=v.get(Vn);return J.sort(Un,Kn,a.sortOrder,L,r&&r.nullSortOrder||yt.nullSortOrder)}),k}return null},R=function(){if(a.loading){var v=n({className:I("loadingIcon")},T("loadingIcon")),L=a.loadingIcon||h.createElement(tr,ze({},v,{spin:!0})),k=Ve.getJSXIcon(L,Ge({},v),{props:a}),V=n({className:I("loadingOverlay")},T("loadingOverlay"));return h.createElement("div",V,k)}return null},_=function(){return a.paginator&&(a.paginatorPosition!=="bottom"||a.paginatorPosition==="both")?Y("top"):null},H=function(){return a.paginator&&(a.paginatorPosition!=="top"||a.paginatorPosition==="both")?Y("bottom"):null},w=function(){if(!a.loading){var v=a.emptyMessage||zn("emptyMessage"),L=n({className:I("emptyMessage")},T("emptyMessage"));return h.createElement("div",L,v)}return null},f=function(){if(a.header){var v=n({className:I("header")},T("header"));return h.createElement("div",v,a.header)}return null},p=function(){if(a.footer){var v=n({className:I("footer")},T("footer"));return h.createElement("div",v,a.footer)}return null},g=function(v){if(J.isNotEmpty(v)){var L=d(v);return L.map(function(k,V){return h.createElement(Jt,{key:$(k)||V,template:a.itemTemplate,layout:a.layout,item:k})})}return w()},b=function(v){var L=n({className:I("content")},T("content")),k=null;if(a.listTemplate){var V=d(v);k=J.getJSXElement(a.listTemplate,V,a.layout)}else{var ye=g(v),be=n({className:I("grid")},T("grid"));k=h.createElement("div",be,ye)}return h.createElement("div",L,k)},K=function(){var v=a.value;return J.isNotEmpty(v)&&a.sortField&&(v=S()),v};h.useImperativeHandle(t,function(){return{props:a,getElement:function(){return F.current}}});var z=K(),ne=R(),ue=_(),Bn=H(),$n=f(),Ln=p(),Fn=b(z),Hn=n({id:a.id,ref:F,style:a.style,className:Q(a.className,I("root"))},we.getOtherProps(a),T("root"));return h.createElement("div",Hn,ne,$n,ue,Fn,Bn,Ln)}));Yt.displayName="DataViewLayoutOptions";Jt.displayName="DataViewItem";Xt.displayName="DataView";function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}function Sr(e,t){var n=h.useState(function(){try{var s=typeof window<"u"&&window.localStorage.getItem(e);return s||t}catch{return t}}),r=n[0],a=n[1],o=function(i){try{var l=i instanceof Function?i(r):i;a(l),window.localStorage.setItem(e,l)}catch(u){console.log(u)}};return[r,o]}var pe={items:[],isEmpty:!0,totalItems:0,totalUniqueItems:0,cartTotal:0,metadata:{}},Zt=h.createContext(pe),_r=function(t){return t===void 0&&(t=12),[].concat(Array(t)).map(function(){return(~~(Math.random()*36)).toString(36)}).join("")},St=function(){var t=h.useContext(Zt);if(!t)throw new Error("Expected to be wrapped in a CartProvider");return t};function Cr(e,t){switch(t.type){case"SET_ITEMS":return Ie(e,t.payload);case"ADD_ITEM":{var n=[].concat(e.items,[t.payload]);return Ie(e,n)}case"UPDATE_ITEM":{var r=e.items.map(function(o){return o.id!==t.id?o:N({},o,t.payload)});return Ie(e,r)}case"REMOVE_ITEM":{var a=e.items.filter(function(o){return o.id!==t.id});return Ie(e,a)}case"EMPTY_CART":return pe;case"CLEAR_CART_META":return N({},e,{metadata:{}});case"SET_CART_META":return N({},e,{metadata:N({},t.payload)});case"UPDATE_CART_META":return N({},e,{metadata:N({},e.metadata,t.payload)});default:throw new Error("No action specified")}}var Ie=function(t,n){t===void 0&&(t=pe);var r=Pr(n),a=r===0;return N({},pe,t,{items:Tr(n),totalItems:xr(n),totalUniqueItems:r,cartTotal:Ar(n),isEmpty:a})},Tr=function(t){return t.map(function(n){return N({},n,{itemTotal:n.price*n.quantity})})},Ar=function(t){return t.reduce(function(n,r){return n+r.quantity*r.price},0)},xr=function(t){return t.reduce(function(n,r){return n+r.quantity},0)},Pr=function(t){return t.length},Dr=function(t){var n=t.children,r=t.id,a=t.defaultItems,o=a===void 0?[]:a,s=t.onSetItems,i=t.onItemAdd,l=t.onItemUpdate,u=t.onItemRemove,m=t.onEmptyCart,A=t.storage,O=A===void 0?Sr:A,x=t.metadata,P=r||_r(),T=O(r?"react-use-cart-"+P:"react-use-cart",JSON.stringify(N({id:P},pe,{items:o,metadata:x}))),I=T[0],B=T[1],F=h.useReducer(Cr,JSON.parse(I)),y=F[0],E=F[1];h.useEffect(function(){B(JSON.stringify(y))},[y,B]);var $=function(g){E({type:"SET_ITEMS",payload:g.map(function(b){return N({},b,{quantity:b.quantity||1})})}),s&&s(g)},D=function(g,b){if(b===void 0&&(b=1),!g.id)throw new Error("You must provide an `id` for items");if(!(b<=0)){var K=y.items.find(function(ue){return ue.id===g.id});if(!K&&!g.hasOwnProperty("price"))throw new Error("You must pass a `price` for new items");if(!K){var z=N({},g,{quantity:b});E({type:"ADD_ITEM",payload:z}),i&&i(z);return}var ne=N({},g,{quantity:K.quantity+b});E({type:"UPDATE_ITEM",id:g.id,payload:ne}),l&&l(ne)}},Y=function(g,b){!g||!b||(E({type:"UPDATE_ITEM",id:g,payload:b}),l&&l(b))},te=function(g,b){if(b<=0){u&&u(g),E({type:"REMOVE_ITEM",id:g});return}var K=y.items.find(function(ne){return ne.id===g});if(!K)throw new Error("No such item to update");var z=N({},K,{quantity:b});E({type:"UPDATE_ITEM",id:g,payload:z}),l&&l(z)},d=function(g){g&&(E({type:"REMOVE_ITEM",id:g}),u&&u(g))},S=function(){E({type:"EMPTY_CART"}),m&&m()},R=function(g){return y.items.find(function(b){return b.id===g})},_=function(g){return y.items.some(function(b){return b.id===g})},H=function(){E({type:"CLEAR_CART_META"})},w=function(g){g&&E({type:"SET_CART_META",payload:g})},f=function(g){g&&E({type:"UPDATE_CART_META",payload:g})};return h.createElement(Zt.Provider,{value:N({},y,{getItem:R,inCart:_,setItems:$,addItem:D,updateItem:Y,updateItemQuantity:te,removeItem:d,emptyCart:S,clearCartMetadata:H,setCartMetadata:w,updateCartMetadata:f})},n)};const Or=({productsAll:e,categories:t,cartVisible:n,setCartVisible:r,phoneNumber:a})=>{const[o,s]=h.useState(e.map(d=>({...d,quantity:1}))),[i,l]=h.useState("grid"),[u,m,A]=Pe("",300),[O,x,P]=Pe("",300),[T,I,B]=Pe("",300);h.useEffect(()=>{let d=e.filter(S=>{let R=x.name?x.name:"";return S.quantity=1,S.name.toLocaleLowerCase().includes(m.toLocaleLowerCase())&&S.category.toLocaleLowerCase().includes(R.toLocaleLowerCase())&&String(S.sku).toLocaleLowerCase().includes(I.toLocaleLowerCase())});s(d)},[m,x,I]);const F=({product:d})=>{let{inCart:S,addItem:R,updateItemQuantity:_,items:H,getItem:w}=St();return c.jsxs(c.Fragment,{children:[S(d.id)&&c.jsx(U,{icon:"pi pi-minus",className:"p-button-rounded mr-2",size:"small",severity:"danger",tooltip:"Adet Azalt",tooltipOptions:{position:"top"},onClick:()=>{_(d.id,w(d.id).quantity-1)}}),!S(d.id)&&c.jsx(U,{icon:"pi pi-shopping-cart",tooltip:"Sepete Ekle",tooltipOptions:{position:"top"},className:"p-button-rounded",severity:"info",onClick:()=>{R({id:d.id,name:d.name,price:d.campaign_price,sku:d.sku},1)}}),S(d.id)&&c.jsx("div",{className:"w-12 h-12 inline-flex items-center justify-center font-semibold rounded-full bg-blue-200 dark:bg-blue-800 text-gray-900 dark:text-gray-100 mr-2",children:w(d.id).quantity}),S(d.id)&&c.jsx(U,{icon:"pi pi-plus",className:"p-button-rounded",size:"small",severity:"success",tooltip:"Adet Arttır",tooltipOptions:{position:"top"},onClick:()=>{_(d.id,w(d.id).quantity+1)}})]})},y=(d,S)=>c.jsx("div",{className:"col-span-12",children:c.jsxs("div",{className:Q("flex flex-col md:flex-row md:items-start p-4 gap-4",{"border-t border-gray-300 dark:border-gray-700":S!==0}),children:[c.jsx("img",{className:"w-24 sm:max-h-[10rem] object-cover sm:w-64 md:w-40 block md:block mx-auto rounded",src:`${d.images[0]}`,alt:d.name}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-start flex-1 gap-4",children:[c.jsxs("div",{className:"flex flex-col items-center md:items-start gap-3",children:[c.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:d.name}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("i",{className:"pi pi-qrcode"}),c.jsx("span",{className:"font-bold",dangerouslySetInnerHTML:{__html:String(d.sku).replace("CKY",'<span class="text-red-500 dark:text-red-400">CKY</span>')}})]}),c.jsx("div",{className:"flex items-center gap-3",children:c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("i",{className:"pi pi-tag"}),c.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-300",children:d.category})]})}),c.jsxs("span",{className:"text-xl font-semibold text-gray-900 dark:text-gray-200",children:[d.campaign_price," TL"]})]}),c.jsx("div",{className:"flex flex-row lg:flex-col items-center justify-center md:items-end gap-3 md:gap-2 h-full",children:c.jsx("div",{children:c.jsx(F,{product:d})})})]})]})},d.id),E=d=>c.jsx("div",{className:"p-2",children:c.jsxs("div",{className:"p-4 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 rounded-lg h-[30rem] relative",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("i",{className:"pi pi-tag"}),c.jsx("span",{className:"text-gray-800 dark:text-gray-300",children:d.category})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("i",{className:"pi pi-qrcode"}),c.jsx("span",{className:"font-bold text-gray-800 dark:text-gray-300",dangerouslySetInnerHTML:{__html:String(d.sku).replace("CKY",'<span class="text-red-500 dark:text-red-400">CKY</span>')}})]})]}),c.jsxs("div",{className:"flex flex-col items-center gap-3 py-5",children:[c.jsx("img",{className:"rounded h-[15rem]",src:`${d.images[0]}`,alt:d.name}),c.jsx("div",{className:"font-semibold w-full text-start text-gray-900 dark:text-gray-100",children:d.name})]}),c.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-lg font-semibold text-gray-900 dark:text-gray-200",children:[d.campaign_price," TL"]}),c.jsx(F,{product:d})]})})]})},d.id),$=(d,S,R)=>{if(d){if(S==="list")return y(d,R);if(S==="grid")return E(d)}},D=(d,S)=>c.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 md:grid-cols-3",children:d.map((R,_)=>$(R,S,_))}),Y=()=>c.jsxs(c.Fragment,{children:[c.jsx(nr,{className:"mb-3",start:c.jsx(c.Fragment,{children:c.jsx(Ue,{placeholder:"Ürün Adına Göre Arama",onChange:d=>A(d.target.value),value:u,type:"text"})}),center:c.jsx(c.Fragment,{children:c.jsx(Ue,{placeholder:"Ürün Koduna Göre Arama",onChange:d=>B(d.target.value),value:T,type:"text"})}),end:c.jsx("div",{className:"sm:w-full",children:c.jsx(rr,{value:O,options:t,onChange:d=>{d.value===void 0?P({name:""}):P(d.value)},showClear:!0,optionLabel:"name",placeholder:"Kategoriye Göre Arama",className:"w-60"})})}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("div",{className:"flex items-center  ",children:c.jsxs("span",{className:"font-bold text-xl bg-gradient-to-r from-blue-300 via-blue-600 to-blue-300 text-transparent bg-clip-text inline-block",children:["ÜRÜN KATALOĞU (",o.length," ÜRÜN)"]})}),c.jsx("div",{children:c.jsx(Yt,{layout:i,onChange:d=>l(d.value)})})]})]}),te=()=>{let{items:d,emptyCart:S,removeItem:R}=St();return c.jsx(ar,{visible:n,onHide:()=>r(!1),draggable:!1,header:`Sepetim (Toplam: ${d.reduce((_,H)=>_+H.itemTotal,0)} TL)`,modal:!0,style:{width:"50vw"},breakpoints:{"960px":"75vw","641px":"100vw"},footer:c.jsxs(c.Fragment,{children:[c.jsx(U,{label:"Kapat",icon:"pi pi-times",size:"small",onClick:()=>r(!1),severity:"secondary"}),d.length>0&&c.jsx(U,{severity:"danger",size:"small",icon:"pi pi-trash",label:"Sepeti Temizle",onClick:_=>{ir({target:_.currentTarget,message:"Sepeti temizlemek istediğinize emin misiniz?",icon:"pi pi-exclamation-triangle",acceptClassName:"p-button-danger",accept:()=>{S()},acceptLabel:"Sil",rejectLabel:"İptal"})}}),d.length>0&&c.jsx(U,{severity:"success",size:"small",icon:"pi pi-send",label:"Onayla",onClick:()=>{let _=`Merhaba, Sepetimdeki ürünler aşağıdaki gibidir: 
`;d.forEach(H=>{_+=`*${H.sku}* - ${H.quantity} Adet - ${H.name}
`}),_+="Sipariş Listem Bu Kadar. Dönüşünüzü Bekliyorum. Teşekkürler.",setTimeout(()=>{S()},5e3),window.open(`https://wa.me/${a}?text=${encodeURIComponent(_)}`,"_blank")}})]}),children:c.jsxs(er,{value:d,emptyMessage:"Sepetiniz Boş",stripedRows:!0,removableSort:!0,paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],children:[c.jsx(ce,{field:"sku",align:"left",sortable:!0,header:"Ürün Kodu"}),c.jsx(ce,{field:"name",align:"left",sortable:!0,header:"Ürün Adı"}),c.jsx(ce,{field:"quantity",align:"center",sortable:!0,header:"Adet"}),c.jsx(ce,{field:"price",header:"Fiyat",sortable:!0,align:"center",body:({price:_})=>_+" TL"}),c.jsx(ce,{field:"itemTotal",align:"right",sortable:!0,header:"Ara Toplam",body:({itemTotal:_})=>_+" TL"}),c.jsx(ce,{field:"actions",align:"center",header:"İşlemler",body:({id:_})=>c.jsx(U,{icon:"pi pi-trash",className:"p-button-rounded p-button-danger",size:"small",onClick:()=>{R(_)}})})]})})};return c.jsxs(Dr,{children:[c.jsx(or,{}),c.jsx(Xt,{value:o,listTemplate:D,layout:i,header:Y(),paginator:!0,rows:24}),c.jsx(te,{})]})};function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye.apply(this,arguments)}function Je(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kr(e){if(Array.isArray(e))return Je(e)}function Nr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qt(e,t){if(e){if(typeof e=="string")return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Je(e,t)}}function jr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _t(e){return kr(e)||Nr(e)||Qt(e)||jr()}function Rr(e){if(Array.isArray(e))return e}function Mr(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,s,i=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(m){u=!0,a=m}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return i}}function Br(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $r(e,t){return Rr(e)||Mr(e,t)||Qt(e,t)||Br()}function fe(e){"@babel/helpers - typeof";return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(e)}function Lr(e,t){if(fe(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fe(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fr(e){var t=Lr(e,"string");return fe(t)==="symbol"?t:String(t)}function Hr(e,t,n){return t=Fr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vr={root:"p-inputotp p-component",input:"p-inputotp-input"},Oe=ot.extend({defaultProps:{__TYPE:"InputOtp",__parentMetadata:null,className:null,modelValue:!1,invalid:!1,disabled:!1,readOnly:!1,variant:null,tabIndex:null,length:4,mask:!1,integerOnly:!1},css:{classes:Vr}});function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ct(Object(n),!0).forEach(function(r){Hr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var en=ve.memo(ve.forwardRef(function(e,t){var n,r,a=h.useRef(t),o=it(),s=h.useContext(at),i=Oe.getProps(e,s),l=Oe.setMetaData(Tt(Tt({props:i},i.__parentMetadata),{},{context:{disabled:i.disabled}})),u=l.ptm,m=l.cx,A=l.isUnstyled;qt(Oe.css.styles,A,{name:"inputotp"});var O=i.value?(n=i.value)===null||n===void 0||(n=n.toString())===null||n===void 0||(r=n.split)===null||r===void 0?void 0:r.call(n,""):new Array(i.length),x=h.useState(O),P=$r(x,2),T=P[0],I=P[1],B=function(f){var p=f.nextElementSibling;if(p)return p.nodeName==="INPUT"?p:B(p)},F=function(f){var p=f.previousElementSibling;if(p)return p.nodeName==="INPUT"?p:F(p)},y=function(f){var p=B(f.target);p&&(p.focus(),p.select())},E=function(f){var p=F(f.target);p&&(p.focus(),p.select())},$=function(f,p){var g;i==null||(g=i.onChange)===null||g===void 0||g.call(i,{originalEvent:f,value:p.join("")})},D=function(f,p){var g=f.target.value,b=_t(T);b[p]=g,b=b.join(""),b=b?b.split(""):new Array(i.length),I(b),$(f,b)},Y=function(f,p){i.disabled||i.readOnly||f.nativeEvent.inputType!=="insertFromPaste"&&(D(f,p),f.nativeEvent.inputType==="deleteContentBackward"?E(f):(f.nativeEvent.inputType==="insertText"||f.nativeEvent.inputType==="deleteContentForward")&&y(f))},te=function(f){if(!(i.disabled||i.readOnly)){var p=f.clipboardData.getData("text");if(p.length){var g=p.substring(0,i.length+1);if(!i.integerOnly||!isNaN(g)){var b=g.split("");I(b),$(f,b)}}}},d=function(f){var p;f.target.select(),i==null||(p=i.focus)===null||p===void 0||p.call(i,f)},S=function(f){var p;i==null||(p=i.blur)===null||p===void 0||p.call(i,f)},R=function(f){if(!(i.disabled||i.readOnly)&&!(f.altKey||f.ctrlKey||f.metaKey))switch(f.code){case"ArrowLeft":{E(f),f.preventDefault();break}case"ArrowRight":{y(f),f.preventDefault();break}case"Backspace":{var p;((p=f.target)===null||p===void 0||(p=p.value)===null||p===void 0?void 0:p.length)===0&&(E(f),f.preventDefault());break}case"ArrowUp":case"ArrowDown":{f.preventDefault();break}case"Tab":case"Enter":break;default:{(i!=null&&i.integerOnly&&!(f.code!=="Space"&&Number(f.key)>=0&&Number(f.key)<=9)||T.join("").length>=i.length&&f.code!=="Delete")&&f.preventDefault();break}}};Jn(function(){var w,f,p=i.value?(w=i.value)===null||w===void 0||(w=w.toString())===null||w===void 0||(f=w.split)===null||f===void 0?void 0:f.call(w,""):new Array(i.length);I(p)},[i.value]);var _=function(f){if(f<=0)return[];var p=i.length-f,g={onInput:function(ue){return Y(ue,p)},onKeyDown:R,onFocus:d,onBlur:S,onPaste:te},b={id:p,value:T[p]||"",inputMode:i!=null&&i.integerOnly?"numeric":"text",type:i!=null&&i.mask?"password":"text",variant:i==null?void 0:i.variant,readOnly:i==null?void 0:i.readOnly,disabled:i==null?void 0:i.disabled,invalid:i==null?void 0:i.invalid,tabIndex:i==null?void 0:i.tabIndex,unstyled:i==null?void 0:i.unstyled,"aria-label":qn("otpLabel",{0:p+1}),className:m("input"),pt:u("input")},K=i!=null&&i.inputTemplate?J.getJSXElement(i==null?void 0:i.inputTemplate,{events:g,props:b}):ve.createElement(Ue,Ye({},b,g,{key:p})),z=[K].concat(_t(_(f-1)));return z},H=o({className:m("root"),ref:a,style:i==null?void 0:i.style},u("root"));return ve.createElement("div",H,_(i.length))}));en.displayName="InputOtp";var At={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},Ur=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=e[n++];t[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=e[n++],s=e[n++],i=e[n++],l=((a&7)<<18|(o&63)<<12|(s&63)<<6|i&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|s&63)}}return t.join("")},nn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const o=e[a],s=a+1<e.length,i=s?e[a+1]:0,l=a+2<e.length,u=l?e[a+2]:0,m=o>>2,A=(o&3)<<4|i>>4;let O=(i&15)<<2|u>>6,x=u&63;l||(x=64,s||(O=64)),r.push(n[m],n[A],n[O],n[x])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Ur(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const o=n[e.charAt(a++)],i=a<e.length?n[e.charAt(a)]:0;++a;const u=a<e.length?n[e.charAt(a)]:64;++a;const A=a<e.length?n[e.charAt(a)]:64;if(++a,o==null||i==null||u==null||A==null)throw new Kr;const O=o<<2|i>>4;if(r.push(O),u!==64){const x=i<<4&240|u>>2;if(r.push(x),A!==64){const P=u<<6&192|A;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Kr extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zr=function(e){const t=tn(e);return nn.encodeByteArray(t,!0)},rn=function(e){return zr(e).replace(/\./g,"")},qr=function(e){try{return nn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=()=>Wr().__FIREBASE_DEFAULTS__,Yr=()=>{if(typeof process>"u"||typeof At>"u")return;const e=At.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Jr=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&qr(e[1]);return t&&JSON.parse(t)},Xr=()=>{try{return Gr()||Yr()||Jr()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},an=()=>{var e;return(e=Xr())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function on(){try{return typeof indexedDB=="object"}catch{return!1}}function sn(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var o;t(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}function Qr(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="FirebaseError";class le extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=ea,Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_e.prototype.create)}}class _e{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,o=this.errors[t],s=o?ta(o,r):"Error",i=`${this.serviceName}: ${s} (${a}).`;return new le(a,i,r)}}function ta(e,t){return e.replace(na,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const na=/\{\$([^}]+)}/g;function Xe(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const o=e[a],s=t[a];if(xt(o)&&xt(s)){if(!Xe(o,s))return!1}else if(o!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function xt(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(e){return e&&e._delegate?e._delegate:e}class ee{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Zr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oa(t))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(t=re){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=re){return this.instances.has(t)}getOptions(t=re){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(o);r===i&&s.resolve(a)}return a}onInit(t,n){var r;const a=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(a,o);const s=this.instances.get(a);return s&&t(s,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aa(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=re){return this.component?this.component.multipleInstances?t:re:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aa(e){return e===re?void 0:e}function oa(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ra(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(C||(C={}));const sa={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},ca=C.INFO,la={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},ua=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=la[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class da{constructor(t){this.name=t,this._logLevel=ca,this._logHandler=ua,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in C))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sa[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...t),this._logHandler(this,C.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...t),this._logHandler(this,C.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,C.INFO,...t),this._logHandler(this,C.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,C.WARN,...t),this._logHandler(this,C.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...t),this._logHandler(this,C.ERROR,...t)}}const pa=(e,t)=>t.some(n=>e instanceof n);let Pt,Dt;function fa(){return Pt||(Pt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ma(){return Dt||(Dt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cn=new WeakMap,Ze=new WeakMap,ln=new WeakMap,ke=new WeakMap,ct=new WeakMap;function ha(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(W(e.result)),a()},s=()=>{r(e.error),a()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&cn.set(n,e)}).catch(()=>{}),ct.set(t,e),t}function ga(e){if(Ze.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),a()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Ze.set(e,t)}let Qe={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ze.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ln.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return W(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ya(e){Qe=e(Qe)}function ba(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ne(this),t,...n);return ln.set(r,t.sort?t.sort():[t]),W(r)}:ma().includes(e)?function(...t){return e.apply(Ne(this),t),W(cn.get(this))}:function(...t){return W(e.apply(Ne(this),t))}}function va(e){return typeof e=="function"?ba(e):(e instanceof IDBTransaction&&ga(e),pa(e,fa())?new Proxy(e,Qe):e)}function W(e){if(e instanceof IDBRequest)return ha(e);if(ke.has(e))return ke.get(e);const t=va(e);return t!==e&&(ke.set(e,t),ct.set(t,e)),t}const Ne=e=>ct.get(e);function Ce(e,t,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const s=indexedDB.open(e,t),i=W(s);return r&&s.addEventListener("upgradeneeded",l=>{r(W(s.result),l.oldVersion,l.newVersion,W(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),i.then(l=>{o&&l.addEventListener("close",()=>o()),a&&l.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),i}function je(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",r=>t(r.oldVersion,r)),W(n).then(()=>{})}const wa=["get","getKey","getAll","getAllKeys","count"],Ia=["put","add","delete","clear"],Re=new Map;function Ot(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Re.get(t))return Re.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=Ia.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||wa.includes(n)))return;const o=async function(s,...i){const l=this.transaction(s,a?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(i.shift())),(await Promise.all([u[n](...i),a&&l.done]))[0]};return Re.set(t,o),o}ya(e=>({...e,get:(t,n,r)=>Ot(t,n)||e.get(t,n,r),has:(t,n)=>!!Ot(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Sa(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Sa(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const et="@firebase/app",kt="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=new da("@firebase/app"),_a="@firebase/app-compat",Ca="@firebase/analytics-compat",Ta="@firebase/analytics",Aa="@firebase/app-check-compat",xa="@firebase/app-check",Pa="@firebase/auth",Da="@firebase/auth-compat",Oa="@firebase/database",ka="@firebase/data-connect",Na="@firebase/database-compat",ja="@firebase/functions",Ra="@firebase/functions-compat",Ma="@firebase/installations",Ba="@firebase/installations-compat",$a="@firebase/messaging",La="@firebase/messaging-compat",Fa="@firebase/performance",Ha="@firebase/performance-compat",Va="@firebase/remote-config",Ua="@firebase/remote-config-compat",Ka="@firebase/storage",za="@firebase/storage-compat",qa="@firebase/firestore",Wa="@firebase/vertexai",Ga="@firebase/firestore-compat",Ya="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt="[DEFAULT]",Ja={[et]:"fire-core",[_a]:"fire-core-compat",[Ta]:"fire-analytics",[Ca]:"fire-analytics-compat",[xa]:"fire-app-check",[Aa]:"fire-app-check-compat",[Pa]:"fire-auth",[Da]:"fire-auth-compat",[Oa]:"fire-rtdb",[ka]:"fire-data-connect",[Na]:"fire-rtdb-compat",[ja]:"fire-fn",[Ra]:"fire-fn-compat",[Ma]:"fire-iid",[Ba]:"fire-iid-compat",[$a]:"fire-fcm",[La]:"fire-fcm-compat",[Fa]:"fire-perf",[Ha]:"fire-perf-compat",[Va]:"fire-rc",[Ua]:"fire-rc-compat",[Ka]:"fire-gcs",[za]:"fire-gcs-compat",[qa]:"fire-fst",[Ga]:"fire-fst-compat",[Wa]:"fire-vertex","fire-js":"fire-js",[Ya]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee=new Map,Xa=new Map,nt=new Map;function Nt(e,t){try{e.container.addComponent(t)}catch(n){G.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function oe(e){const t=e.name;if(nt.has(t))return G.debug(`There were multiple attempts to register component ${t}.`),!1;nt.set(t,e);for(const n of Ee.values())Nt(n,e);for(const n of Xa.values())Nt(n,e);return!0}function lt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},X=new _e("app","Firebase",Za);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ee("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw X.create("app-deleted",{appName:this._name})}}function un(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:tt,automaticDataCollectionEnabled:!1},t),a=r.name;if(typeof a!="string"||!a)throw X.create("bad-app-name",{appName:String(a)});if(n||(n=an()),!n)throw X.create("no-options");const o=Ee.get(a);if(o){if(Xe(n,o.options)&&Xe(r,o.config))return o;throw X.create("duplicate-app",{appName:a})}const s=new ia(a);for(const l of nt.values())s.addComponent(l);const i=new Qa(n,r,s);return Ee.set(a,i),i}function eo(e=tt){const t=Ee.get(e);if(!t&&e===tt&&an())return un();if(!t)throw X.create("no-app",{appName:e});return t}function Z(e,t,n){var r;let a=(r=Ja[e])!==null&&r!==void 0?r:e;n&&(a+=`-${n}`);const o=a.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const i=[`Unable to register library "${a}" with version "${t}":`];o&&i.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&s&&i.push("and"),s&&i.push(`version name "${t}" contains illegal characters (whitespace or "/")`),G.warn(i.join(" "));return}oe(new ee(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="firebase-heartbeat-database",no=1,me="firebase-heartbeat-store";let Me=null;function dn(){return Me||(Me=Ce(to,no,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(me)}catch(n){console.warn(n)}}}}).catch(e=>{throw X.create("idb-open",{originalErrorMessage:e.message})})),Me}async function ro(e){try{const n=(await dn()).transaction(me),r=await n.objectStore(me).get(pn(e));return await n.done,r}catch(t){if(t instanceof le)G.warn(t.message);else{const n=X.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});G.warn(n.message)}}}async function jt(e,t){try{const r=(await dn()).transaction(me,"readwrite");await r.objectStore(me).put(t,pn(e)),await r.done}catch(n){if(n instanceof le)G.warn(n.message);else{const r=X.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});G.warn(r.message)}}}function pn(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=1024,oo=30*24*60*60*1e3;class io{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new co(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Rt();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=oo}),this._storage.overwrite(this._heartbeatsCache))}catch(r){G.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rt(),{heartbeatsToSend:r,unsentEntries:a}=so(this._heartbeatsCache.heartbeats),o=rn(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return G.warn(n),""}}}function Rt(){return new Date().toISOString().substring(0,10)}function so(e,t=ao){const n=[];let r=e.slice();for(const a of e){const o=n.find(s=>s.agent===a.agent);if(o){if(o.dates.push(a.date),Mt(n)>t){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Mt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class co{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return on()?sn().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ro(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return jt(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return jt(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Mt(e){return rn(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(e){oe(new ee("platform-logger",t=>new Ea(t),"PRIVATE")),oe(new ee("heartbeat",t=>new io(t),"PRIVATE")),Z(et,kt,e),Z(et,kt,"esm2017"),Z("fire-js","")}lo("");var uo="firebase",po="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Z(uo,po,"app");const fn="@firebase/installations",ut="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=1e4,hn=`w:${ut}`,gn="FIS_v2",fo="https://firebaseinstallations.googleapis.com/v1",mo=60*60*1e3,ho="installations",go="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ie=new _e(ho,go,yo);function yn(e){return e instanceof le&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn({projectId:e}){return`${fo}/projects/${e}/installations`}function vn(e){return{token:e.token,requestStatus:2,expiresIn:vo(e.expiresIn),creationTime:Date.now()}}async function wn(e,t){const r=(await t.json()).error;return ie.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function In({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function bo(e,{refreshToken:t}){const n=In(e);return n.append("Authorization",wo(t)),n}async function En(e){const t=await e();return t.status>=500&&t.status<600?e():t}function vo(e){return Number(e.replace("s","000"))}function wo(e){return`${gn} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=bn(e),a=In(e),o=t.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&a.append("x-firebase-client",u)}const s={fid:n,authVersion:gn,appId:e.appId,sdkVersion:hn},i={method:"POST",headers:a,body:JSON.stringify(s)},l=await En(()=>fetch(r,i));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:vn(u.authToken)}}else throw await wn("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=/^[cdef][\w-]{21}$/,rt="";function _o(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=Co(e);return So.test(n)?n:rt}catch{return rt}}function Co(e){return Eo(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new Map;function Cn(e,t){const n=Te(e);Tn(n,t),To(n,t)}function Tn(e,t){const n=_n.get(e);if(n)for(const r of n)r(t)}function To(e,t){const n=Ao();n&&n.postMessage({key:e,fid:t}),xo()}let ae=null;function Ao(){return!ae&&"BroadcastChannel"in self&&(ae=new BroadcastChannel("[Firebase] FID Change"),ae.onmessage=e=>{Tn(e.data.key,e.data.fid)}),ae}function xo(){_n.size===0&&ae&&(ae.close(),ae=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="firebase-installations-database",Do=1,se="firebase-installations-store";let Be=null;function dt(){return Be||(Be=Ce(Po,Do,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(se)}}})),Be}async function Se(e,t){const n=Te(e),a=(await dt()).transaction(se,"readwrite"),o=a.objectStore(se),s=await o.get(n);return await o.put(t,n),await a.done,(!s||s.fid!==t.fid)&&Cn(e,t.fid),t}async function An(e){const t=Te(e),r=(await dt()).transaction(se,"readwrite");await r.objectStore(se).delete(t),await r.done}async function Ae(e,t){const n=Te(e),a=(await dt()).transaction(se,"readwrite"),o=a.objectStore(se),s=await o.get(n),i=t(s);return i===void 0?await o.delete(n):await o.put(i,n),await a.done,i&&(!s||s.fid!==i.fid)&&Cn(e,i.fid),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pt(e){let t;const n=await Ae(e.appConfig,r=>{const a=Oo(r),o=ko(e,a);return t=o.registrationPromise,o.installationEntry});return n.fid===rt?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function Oo(e){const t=e||{fid:_o(),registrationStatus:0};return xn(t)}function ko(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(ie.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=No(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:jo(e)}:{installationEntry:t}}async function No(e,t){try{const n=await Io(e,t);return Se(e.appConfig,n)}catch(n){throw yn(n)&&n.customData.serverCode===409?await An(e.appConfig):await Se(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function jo(e){let t=await Bt(e.appConfig);for(;t.registrationStatus===1;)await Sn(100),t=await Bt(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await pt(e);return r||n}return t}function Bt(e){return Ae(e,t=>{if(!t)throw ie.create("installation-not-found");return xn(t)})}function xn(e){return Ro(e)?{fid:e.fid,registrationStatus:0}:e}function Ro(e){return e.registrationStatus===1&&e.registrationTime+mn<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo({appConfig:e,heartbeatServiceProvider:t},n){const r=Bo(e,n),a=bo(e,n),o=t.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&a.append("x-firebase-client",u)}const s={installation:{sdkVersion:hn,appId:e.appId}},i={method:"POST",headers:a,body:JSON.stringify(s)},l=await En(()=>fetch(r,i));if(l.ok){const u=await l.json();return vn(u)}else throw await wn("Generate Auth Token",l)}function Bo(e,{fid:t}){return`${bn(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ft(e,t=!1){let n;const r=await Ae(e.appConfig,o=>{if(!Pn(o))throw ie.create("not-registered");const s=o.authToken;if(!t&&Fo(s))return o;if(s.requestStatus===1)return n=$o(e,t),o;{if(!navigator.onLine)throw ie.create("app-offline");const i=Vo(o);return n=Lo(e,i),i}});return n?await n:r.authToken}async function $o(e,t){let n=await $t(e.appConfig);for(;n.authToken.requestStatus===1;)await Sn(100),n=await $t(e.appConfig);const r=n.authToken;return r.requestStatus===0?ft(e,t):r}function $t(e){return Ae(e,t=>{if(!Pn(t))throw ie.create("not-registered");const n=t.authToken;return Uo(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function Lo(e,t){try{const n=await Mo(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Se(e.appConfig,r),n}catch(n){if(yn(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await An(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Se(e.appConfig,r)}throw n}}function Pn(e){return e!==void 0&&e.registrationStatus===2}function Fo(e){return e.requestStatus===2&&!Ho(e)}function Ho(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+mo}function Vo(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Uo(e){return e.requestStatus===1&&e.requestTime+mn<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(e){const t=e,{installationEntry:n,registrationPromise:r}=await pt(t);return r?r.catch(console.error):ft(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(e,t=!1){const n=e;return await qo(n),(await ft(n,t)).token}async function qo(e){const{registrationPromise:t}=await pt(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(e){if(!e||!e.options)throw $e("App Configuration");if(!e.name)throw $e("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw $e(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function $e(e){return ie.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="installations",Go="installations-internal",Yo=e=>{const t=e.getProvider("app").getImmediate(),n=Wo(t),r=lt(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Jo=e=>{const t=e.getProvider("app").getImmediate(),n=lt(t,Dn).getImmediate();return{getId:()=>Ko(n),getToken:a=>zo(n,a)}};function Xo(){oe(new ee(Dn,Yo,"PUBLIC")),oe(new ee(Go,Jo,"PRIVATE"))}Xo();Z(fn,ut);Z(fn,ut,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="/firebase-messaging-sw.js",Qo="/firebase-cloud-messaging-push-scope",On="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ei="https://fcmregistrations.googleapis.com/v1",kn="google.c.a.c_id",ti="google.c.a.c_l",ni="google.c.a.ts",ri="google.c.a.e";var Lt;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Lt||(Lt={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var he;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(he||(he={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ai(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),a=new Uint8Array(r.length);for(let o=0;o<r.length;++o)a[o]=r.charCodeAt(o);return a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Le="fcm_token_details_db",oi=5,Ft="fcm_token_object_Store";async function ii(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(Le))return null;let t=null;return(await Ce(Le,oi,{upgrade:async(r,a,o,s)=>{var i;if(a<2||!r.objectStoreNames.contains(Ft))return;const l=s.objectStore(Ft),u=await l.index("fcmSenderId").get(e);if(await l.clear(),!!u){if(a===2){const m=u;if(!m.auth||!m.p256dh||!m.endpoint)return;t={token:m.fcmToken,createTime:(i=m.createTime)!==null&&i!==void 0?i:Date.now(),subscriptionOptions:{auth:m.auth,p256dh:m.p256dh,endpoint:m.endpoint,swScope:m.swScope,vapidKey:typeof m.vapidKey=="string"?m.vapidKey:q(m.vapidKey)}}}else if(a===3){const m=u;t={token:m.fcmToken,createTime:m.createTime,subscriptionOptions:{auth:q(m.auth),p256dh:q(m.p256dh),endpoint:m.endpoint,swScope:m.swScope,vapidKey:q(m.vapidKey)}}}else if(a===4){const m=u;t={token:m.fcmToken,createTime:m.createTime,subscriptionOptions:{auth:q(m.auth),p256dh:q(m.p256dh),endpoint:m.endpoint,swScope:m.swScope,vapidKey:q(m.vapidKey)}}}}}})).close(),await je(Le),await je("fcm_vapid_details_db"),await je("undefined"),si(t)?t:null}function si(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="firebase-messaging-database",li=1,ge="firebase-messaging-store";let Fe=null;function Nn(){return Fe||(Fe=Ce(ci,li,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ge)}}})),Fe}async function ui(e){const t=jn(e),r=await(await Nn()).transaction(ge).objectStore(ge).get(t);if(r)return r;{const a=await ii(e.appConfig.senderId);if(a)return await mt(e,a),a}}async function mt(e,t){const n=jn(e),a=(await Nn()).transaction(ge,"readwrite");return await a.objectStore(ge).put(t,n),await a.done,t}function jn({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},j=new _e("messaging","Messaging",di);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pi(e,t){const n=await gt(e),r=Rn(t),a={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(ht(e.appConfig),a)).json()}catch(s){throw j.create("token-subscribe-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw j.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw j.create("token-subscribe-no-token");return o.token}async function fi(e,t){const n=await gt(e),r=Rn(t.subscriptionOptions),a={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${ht(e.appConfig)}/${t.token}`,a)).json()}catch(s){throw j.create("token-update-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw j.create("token-update-failed",{errorInfo:s})}if(!o.token)throw j.create("token-update-no-token");return o.token}async function mi(e,t){const r={method:"DELETE",headers:await gt(e)};try{const o=await(await fetch(`${ht(e.appConfig)}/${t}`,r)).json();if(o.error){const s=o.error.message;throw j.create("token-unsubscribe-failed",{errorInfo:s})}}catch(a){throw j.create("token-unsubscribe-failed",{errorInfo:a==null?void 0:a.toString()})}}function ht({projectId:e}){return`${ei}/projects/${e}/registrations`}async function gt({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Rn({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const a={web:{endpoint:n,auth:t,p256dh:e}};return r!==On&&(a.web.applicationPubKey=r),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=7*24*60*60*1e3;async function gi(e){const t=await bi(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:q(t.getKey("auth")),p256dh:q(t.getKey("p256dh"))},r=await ui(e.firebaseDependencies);if(r){if(vi(r.subscriptionOptions,n))return Date.now()>=r.createTime+hi?yi(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await mi(e.firebaseDependencies,r.token)}catch(a){console.warn(a)}return Ht(e.firebaseDependencies,n)}else return Ht(e.firebaseDependencies,n)}async function yi(e,t){try{const n=await fi(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await mt(e.firebaseDependencies,r),n}catch(n){throw n}}async function Ht(e,t){const r={token:await pi(e,t),createTime:Date.now(),subscriptionOptions:t};return await mt(e,r),r.token}async function bi(e,t){const n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ai(t)})}function vi(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,a=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&a&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return wi(t,e),Ii(t,e),Ei(t,e),t}function wi(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const a=t.notification.image;a&&(e.notification.image=a);const o=t.notification.icon;o&&(e.notification.icon=o)}function Ii(e,t){t.data&&(e.data=t.data)}function Ei(e,t){var n,r,a,o,s;if(!t.fcmOptions&&!(!((n=t.notification)===null||n===void 0)&&n.click_action))return;e.fcmOptions={};const i=(a=(r=t.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&a!==void 0?a:(o=t.notification)===null||o===void 0?void 0:o.click_action;i&&(e.fcmOptions.link=i);const l=(s=t.fcmOptions)===null||s===void 0?void 0:s.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(e){return typeof e=="object"&&!!e&&kn in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(e){if(!e||!e.options)throw He("App Configuration Object");if(!e.name)throw He("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw He(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function He(e){return j.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=_i(t);this.firebaseDependencies={app:t,appConfig:a,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ti(e){try{e.swRegistration=await navigator.serviceWorker.register(Zo,{scope:Qo}),e.swRegistration.update().catch(()=>{})}catch(t){throw j.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ai(e,t){if(!t&&!e.swRegistration&&await Ti(e),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw j.create("invalid-sw-registration");e.swRegistration=t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xi(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=On)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mn(e,t){if(!navigator)throw j.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw j.create("permission-blocked");return await xi(e,t==null?void 0:t.vapidKey),await Ai(e,t==null?void 0:t.serviceWorkerRegistration),gi(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pi(e,t,n){const r=Di(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[kn],message_name:n[ti],message_time:n[ni],message_device_time:Math.floor(Date.now()/1e3)})}function Di(e){switch(e){case he.NOTIFICATION_CLICKED:return"notification_open";case he.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oi(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===he.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Vt(n)):e.onMessageHandler.next(Vt(n)));const r=n.data;Si(r)&&r[ri]==="1"&&await Pi(e,n.messageType,r)}const Ut="@firebase/messaging",Kt="0.12.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=e=>{const t=new Ci(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>Oi(t,n)),t},Ni=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>Mn(t,r)}};function ji(){oe(new ee("messaging",ki,"PUBLIC")),oe(new ee("messaging-internal",Ni,"PRIVATE")),Z(Ut,Kt),Z(Ut,Kt,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ri(){try{await sn()}catch{return!1}return typeof window<"u"&&on()&&Qr()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(e,t){if(!navigator)throw j.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(e=eo()){return Ri().then(t=>{if(!t)throw j.create("unsupported-browser")},t=>{throw j.create("indexed-db-unsupported")}),lt(st(e),"messaging").getImmediate()}async function $i(e,t){return e=st(e),Mn(e,t)}function Li(e,t){return e=st(e),Mi(e,t)}ji();const Fi={apiKey:"AIzaSyCN7BvJ97NkR-19ukoDEQxhIExBFdWhU0Y",authDomain:"erp-for-vuca.firebaseapp.com",projectId:"erp-for-vuca",storageBucket:"erp-for-vuca.firebasestorage.app",messagingSenderId:"255523054947",appId:"1:255523054947:web:2b3010f8b99138f2199f56"},Hi=un(Fi),zt=Bi(Hi),Vi={BASE_URL:"/build/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API_KEY:"AIzaSyCN7BvJ97NkR-19ukoDEQxhIExBFdWhU0Y",VITE_APP_APP_ID:"1:255523054947:web:2b3010f8b99138f2199f56",VITE_APP_AUTH_DOMAIN:"erp-for-vuca.firebaseapp.com",VITE_APP_CITY_DISTRICT_URL:"https://raw.githubusercontent.com/snrylmz/il-ilce-json/master/js/il-ilce.json",VITE_APP_MESSAGING_SENDER_ID:"255523054947",VITE_APP_NAME:"ERP FOR VUCA",VITE_APP_PROJECT_ID:"erp-for-vuca",VITE_APP_STORAGE_BUCKET:"erp-for-vuca.firebasestorage.app",VITE_APP_VAPID_KEY:"BCHWmZ7t4B5F732KQaCTZR4K9VS9Sk1i6AziqjasmcB6-JVvCDHquvR6kdJH9z-UPtnTCzt2eP4kHpuQeuk4r6U"},ps=({categories:e,phoneNumber:t,password:n,csrf_token:r})=>{const a=h.useRef(null),[o,s]=h.useState(!0),[i,l]=h.useState([]),[u,m]=h.useState(!1),[A,O]=Xn(!1,"loginedCatalogForCkyMoto");h.useEffect(()=>{cr(r).then(({status:y,data:E})=>{y?l(E):a.current.show({severity:"error",summary:"Hata",detail:"Ürünler yüklenirken bir hata oluştu.",life:3e3})}).catch(y=>{console.error(y),a.current.show({severity:"error",summary:"Hata",detail:"Ürünler yüklenirken bir hata oluştu.",life:3e3})}).finally(()=>{s(!1)})},[]);const{VITE_APP_VAPID_KEY:x}=Vi,[P,T]=h.useState(null),I=()=>{Li(zt,y=>{const E=y.data.icon?y.data.icon:"https://ckymoto.com/dosya/icon-256x256.png",$=y.data.title,D={body:y.data.body,icon:E,data:{url:y.data.url}};new Notification($,D)})};h.useEffect(()=>{I(),"serviceWorker"in navigator&&navigator.serviceWorker.register("/messaging-sw.js").then(function(y){console.log("Service Worker Kaydı Başarılı:",y),T(y)}).catch(function(y){console.log("Service Worker kaydı başarısız:",y)})},[]);async function B(){const y=await Notification.requestPermission();if(y==="granted"){const E=await $i(zt,{vapidKey:x,serviceWorkerRegistration:P});s(!0);let $=new FormData;$.append("token",E),$.append("platform",navigator.platform),fetch(route("notifications.addToken"),{method:"POST",headers:{"X-CSRF-TOKEN":r},body:$}).then(D=>D.json()).then(D=>{D.status?a.current.show({severity:"success",summary:"Başarılı",detail:D.message,life:3e3}):a.current.show({severity:"error",summary:"Hata",detail:D.message})}).catch(D=>{a.current.show({severity:"error",summary:"Hata",detail:"CSRF Token Hatası Lütfen Sayfayı Yenileyiniz.."})}).finally(()=>{s(!1)})}else y==="denied"&&a.current.show({severity:"error",summary:"Hata",detail:"Bildirimler Engellendi",life:3e3})}const F=()=>{["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)?"Notification"in window?(s(!0),B().then(y=>console.log())):a.current.show({severity:"info",summary:"Hata",detail:"Bildirimleri almak için tarayıcınızın URL bölümünde bulunan paylaş butonunu kullanarak uygulamamızı ana ekrana ekleyin. Bu sayede, uygulama yüklemeden hizmetlerinizi anında takip edebilirsiniz.",life:1e4}):(s(!0),B().then(y=>console.log()))};return c.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:[c.jsx(lr,{ref:a}),c.jsx(Wn,{title:"Katalog"}),c.jsx("nav",{className:"bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between h-16",children:[c.jsx("div",{className:"flex",children:c.jsx("div",{className:"shrink-0 flex items-center",children:c.jsx(Gn,{className:"block h-8 w-auto fill-current text-gray-800 dark:text-gray-200"})})}),c.jsx("div",{className:"hidden sm:flex sm:items-center sm:ms-6",children:c.jsxs("div",{className:"ms-3 relative",children:[c.jsx(U,{label:"Bildirimleri Aç",icon:"pi pi-bell",size:"small",className:"p-button-rounded mr-2",severity:"warning",tooltip:"Bildirimleri Aç",onClick:()=>F(),tooltipOptions:{position:"bottom"}}),c.jsx(U,{label:"Sepetim",icon:"pi pi-shopping-cart",size:"small",className:"p-button-rounded mr-2",severity:"info",tooltip:"Sepetim",onClick:()=>m(!u),tooltipOptions:{position:"bottom"}}),c.jsx(U,{label:"Giriş",icon:"pi pi-sign-in",size:"small",className:"p-button-rounded ",severity:"success",tooltip:"Panel'e Giriş",tooltipOptions:{position:"bottom"},onClick:()=>{bt.visit(route("login"))}})]})}),c.jsxs("div",{className:"-me-2 flex items-center sm:hidden",children:[c.jsx(U,{icon:"pi pi-shopping-cart",size:"small",className:"p-button-rounded mr-2",severity:"info",tooltip:"Sepetim",onClick:()=>m(!u),tooltipOptions:{position:"bottom"}}),c.jsx(U,{icon:"pi pi-sign-in",size:"small",className:"p-button-rounded ",severity:"success",tooltip:"Panel'e Giriş",tooltipOptions:{position:"bottom"},onClick:()=>{bt.visit(route("login"))}})]})]})})}),c.jsx(sr,{blocked:o,fullScreen:!0,template:c.jsx("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"3rem"}}),children:c.jsx("div",{className:"mt-[-2px]",children:c.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded",children:[A&&!o&&c.jsx(Or,{productsAll:i,categories:e,cartVisible:u,setCartVisible:m,phoneNumber:t}),!A&&c.jsx("div",{className:"my-8 flex justify-center items-center",children:c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-xl text-center mb-3",children:["Kataloğu Görmek ",c.jsx("br",{}),"İçin Şifrenizi Giriniz"]}),c.jsx(en,{mask:!0,type:"number",onChange:y=>{y.value===n&&O(!0)}})]})})]})})})})]})};export{ps as default};
