import{r as u,P as We,O as f,b as ae,D as w,c as R,e as $e,Z as Se,l as Ce,I as ce}from"./app-MMx-yB3G.js";import{C as sn,u as Pe,a as dn,b as pn,e as fn,h as Fe,f as vn,T as mn,I as gn,P as bn}from"./iconbase.esm-48fxaLvN.js";import{C as yn,S as hn,V as On}from"./virtualscroller.esm-Cs74YQWK.js";import{R as In,S as wn}from"./ripple.esm-CDHzLfkq.js";import{T as Ye,C as En}from"./csstransition.esm-C7-qQLFH.js";import{O as xn}from"./overlayservice.esm-BwHVid_d.js";import{C as Sn}from"./index.esm-B6m0rV8L.js";function U(){return U=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},U.apply(this,arguments)}function oe(t){"@babel/helpers - typeof";return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},oe(t)}function Fn(t,a){if(oe(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,a||"default");if(oe(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function Cn(t){var a=Fn(t,"string");return oe(a)==="symbol"?a:String(a)}function ve(t,a,r){return a=Cn(a),a in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function Pn(t){if(Array.isArray(t))return t}function Ln(t,a){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var i,n,E,C,b=[],y=!0,D=!1;try{if(E=(r=r.call(t)).next,a===0){if(Object(r)!==r)return;y=!1}else for(;!(y=(i=E.call(r)).done)&&(b.push(i.value),b.length!==a);y=!0);}catch(h){D=!0,n=h}finally{try{if(!y&&r.return!=null&&(C=r.return(),Object(C)!==C))return}finally{if(D)throw n}}return b}}function Je(t,a){(a==null||a>t.length)&&(a=t.length);for(var r=0,i=new Array(a);r<a;r++)i[r]=t[r];return i}function Dn(t,a){if(t){if(typeof t=="string")return Je(t,a);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Je(t,a)}}function kn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ue(t,a){return Pn(t)||Ln(t,a)||Dn(t,a)||kn()}function Xe(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Tn(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Xe(Object(r),!0).forEach(function(i){ve(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var Rn={root:function(a){var r=a.props,i=a.focusedState,n=a.overlayVisibleState,E=a.context;return R("p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-focus":i,"p-variant-filled":r.variant?r.variant==="filled":E&&E.inputStyle==="filled","p-dropdown-clearable":r.showClear&&!r.disabled,"p-inputwrapper-filled":f.isNotEmpty(r.value),"p-inputwrapper-focus":i||n})},input:function(a){var r=a.props,i=a.label;return r.editable?"p-dropdown-label p-inputtext":R("p-dropdown-label p-inputtext",{"p-placeholder":i===null&&r.placeholder,"p-dropdown-label-empty":i===null&&!r.placeholder})},trigger:"p-dropdown-trigger",emptyMessage:"p-dropdown-empty-message",itemGroup:function(a){var r=a.optionGroupLabel;return R("p-dropdown-item-group",{"p-dropdown-item-empty":!r||r.length===0})},itemGroupLabel:"p-dropdown-item-group-label",dropdownIcon:"p-dropdown-trigger-icon p-clickable",loadingIcon:"p-dropdown-trigger-icon p-clickable",clearIcon:"p-dropdown-clear-icon p-clickable",filterIcon:"p-dropdown-filter-icon",filterClearIcon:"p-dropdown-filter-clear-icon",filterContainer:function(a){var r=a.clearIcon;return R("p-dropdown-filter-container",{"p-dropdown-clearable-filter":!!r})},filterInput:function(a){var r=a.props,i=a.context;return R("p-dropdown-filter p-inputtext p-component",{"p-variant-filled":r.variant?r.variant==="filled":i&&i.inputStyle==="filled"})},list:function(a){var r=a.virtualScrollerOptions;return"p-dropdown-items"},panel:function(a){var r=a.context;return R("p-dropdown-panel p-component",{"p-input-filled":r&&r.inputStyle==="filled"||ae.inputStyle==="filled","p-ripple-disabled":r&&r.ripple===!1||ae.ripple===!1})},item:function(a){var r=a.selected,i=a.disabled,n=a.label,E=a.index,C=a.focusedOptionIndex,b=a.highlightOnSelect;return R("p-dropdown-item",{"p-highlight":r&&b,"p-disabled":i,"p-focus":E===C,"p-dropdown-item-empty":!n||n.length===0})},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",wrapper:"p-dropdown-items-wrapper",header:"p-dropdown-header",footer:"p-dropdown-footer",transition:"p-connected-overlay"},Nn=`
@layer primereact {
    .p-dropdown {
        display: inline-flex;
        cursor: pointer;
        position: relative;
        user-select: none;
    }
    
    .p-dropdown-trigger {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }
    
    .p-dropdown-label {
        display: block;
        white-space: nowrap;
        overflow: hidden;
        flex: 1 1 auto;
        width: 1%;
        text-overflow: ellipsis;
        cursor: pointer;
    }
    
    .p-dropdown-label-empty {
        overflow: hidden;
        visibility: hidden;
    }
    
    input.p-dropdown-label  {
        cursor: default;
    }
    
    .p-dropdown .p-dropdown-panel {
        min-width: 100%;
    }
    
    .p-dropdown-panel {
        position: absolute;
        top: 0;
        left: 0;
    }
    
    .p-dropdown-items-wrapper {
        overflow: auto;
    }
    
    .p-dropdown-item {
        cursor: pointer;
        font-weight: normal;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
    }
    
    .p-dropdown-items {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }
    
    .p-dropdown-filter {
        width: 100%;
    }
    
    .p-dropdown-filter-container {
        position: relative;
    }
    
    .p-dropdown-clear-icon,
    .p-dropdown-filter-icon,
    .p-dropdown-filter-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -.5rem;
        right: 2rem;
    }
    
    .p-fluid .p-dropdown {
        display: flex;
    }
    
    .p-fluid .p-dropdown .p-dropdown-label {
        width: 1%;
    }
}
`,Kn={wrapper:function(a){var r=a.props;return{maxHeight:r.scrollHeight||"auto"}},panel:function(a){var r=a.props;return Tn({},r.panelStyle)}},fe=sn.extend({defaultProps:{__TYPE:"Dropdown",__parentMetadata:null,appendTo:null,ariaLabel:null,ariaLabelledBy:null,autoFocus:!1,children:void 0,className:null,clearIcon:null,dataKey:null,disabled:!1,dropdownIcon:null,editable:!1,emptyFilterMessage:null,highlightOnSelect:!0,checkmark:!1,emptyMessage:null,filter:!1,filterBy:null,filterClearIcon:null,filterIcon:null,filterInputAutoFocus:!1,filterLocale:void 0,filterMatchMode:"contains",filterPlaceholder:null,filterTemplate:null,focusInputRef:null,id:null,inputId:null,inputRef:null,invalid:!1,variant:null,itemTemplate:null,loading:!1,loadingIcon:null,maxLength:null,name:null,onBlur:null,onChange:null,onContextMenu:null,onFilter:null,onFocus:null,onHide:null,onMouseDown:null,onShow:null,optionDisabled:null,optionGroupChildren:"items",selectOnFocus:!1,focusOnHover:!0,autoOptionFocus:!1,optionGroupLabel:null,optionGroupTemplate:null,optionLabel:null,optionValue:null,options:null,panelClassName:null,panelFooterTemplate:null,panelStyle:null,placeholder:null,required:!1,resetFilterOnHide:!1,scrollHeight:"200px",showClear:!1,showFilterClear:!1,showOnFocus:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,transitionOptions:null,value:null,valueTemplate:null,virtualScrollerOptions:null},css:{classes:Rn,styles:Nn,inlineStyles:Kn}}),Qe=u.memo(u.forwardRef(function(t,a){var r=gn.getPTI(t);return u.createElement("svg",U({ref:a,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),u.createElement("rect",{width:"1",height:"1",fill:"currentColor",fillOpacity:"0"}))}));Qe.displayName="BlankIcon";var et=u.memo(function(t){var a=Pe(),r=t.ptm,i=t.cx,n=t.selected,E=t.disabled,C=t.option,b=t.label,y=t.index,D=t.focusedOptionIndex,h=t.checkmark,q=t.highlightOnSelect,A=function(p){return r(p,{context:{selected:n,disabled:E}})},z=function(p,Z){t.onClick&&t.onClick({originalEvent:p,option:C})},ee=t.template?f.getJSXElement(t.template,t.option):t.label,g=a({role:"option",key:t.label,className:R(C.className,i("item",{selected:n,disabled:E,label:b,index:y,focusedOptionIndex:D,highlightOnSelect:q})),style:t.style,onClick:function(p){return z(p)},onMouseMove:function(p){return t==null?void 0:t.onMouseMove(p,y)},"aria-label":b,"aria-selected":n,"data-p-highlight":n,"data-p-focused":D===y,"data-p-disabled":E},A("item")),k=a({className:i("itemLabel")},A("itemLabel")),te=function(){if(n){var p=a({className:i("checkIcon")},A("checkIcon"));return u.createElement(Sn,p)}var Z=a({className:i("blankIcon")},A("blankIcon"));return u.createElement(Qe,Z)};return u.createElement("li",g,h&&te(),u.createElement("span",k,ee),u.createElement(In,null))});et.displayName="DropdownItem";function qe(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function G(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?qe(Object(r),!0).forEach(function(i){ve(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var tt=u.memo(u.forwardRef(function(t,a){var r=Pe(),i=t.ptm,n=t.cx,E=t.sx,C=u.useContext(We),b=u.useRef(null),y=!(t.visibleOptions&&t.visibleOptions.length)&&t.hasFilter,D={filter:function(d){return z(d)},reset:function(){return t.resetFilter()}},h=function(d,s){return i(d,G({hostName:t.hostName},s))},q=function(){t.onEnter(function(){if(t.virtualScrollerRef.current){var d=t.getSelectedOptionIndex();d!==-1&&setTimeout(function(){return t.virtualScrollerRef.current.scrollToIndex(d)},0)}})},A=function(){t.onEntered(function(){t.filter&&t.filterInputAutoFocus&&w.focus(b.current,!1)})},z=function(d){t.virtualScrollerRef.current&&t.virtualScrollerRef.current.scrollToIndex(0),t.onFilterInputChange&&t.onFilterInputChange(d)},ee=function(){if(t.panelFooterTemplate){var d=f.getJSXElement(t.panelFooterTemplate,t,t.onOverlayHide),s=r({className:n("footer")},h("footer"));return u.createElement("div",s,d)}return null},g=function(d,s){if(t.focusOnHover){var v;t==null||(v=t.changeFocusedOptionIndex)===null||v===void 0||v.call(t,d,s)}},k=function(d,s){var v=f.getJSXElement(d,t)||Ce(s?"emptyFilterMessage":"emptyMessage"),L=r({className:n("emptyMessage")},h("emptyMessage"));return u.createElement("li",L,v)},te=function(d,s){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},L={height:v.props?v.props.itemSize:void 0};if(L=G(G({},L),d.style),d.group&&d.optionGroup&&t.optionGroupLabel){var T=t.optionGroupLabel,x=t.optionGroupTemplate?f.getJSXElement(t.optionGroupTemplate,d,s):t.getOptionGroupLabel(d),N=s+"_"+t.getOptionGroupRenderKey(d),J=r({className:n("itemGroup",{optionGroupLabel:T}),style:L,"data-p-highlight":t.selected},h("itemGroup")),Y=r({className:n("itemGroupLabel")},h("itemGroupLabel"));return u.createElement("li",U({key:N},J),u.createElement("span",Y,x))}var Q=t.getOptionRenderKey(d)+"_"+s,O=t.getOptionLabel(d),K=t.isOptionDisabled(d);return u.createElement(et,{key:Q,label:O,index:s,focusedOptionIndex:t.focusedOptionIndex,option:d,style:L,template:t.itemTemplate,selected:t.isSelected(d),highlightOnSelect:t.highlightOnSelect,disabled:K,onClick:t.onOptionClick,onMouseMove:g,ptm:i,cx:n,checkmark:t.checkmark})},V=function(){return f.isNotEmpty(t.visibleOptions)?t.visibleOptions.map(te):t.hasFilter?k(t.emptyFilterMessage,!0):k(t.emptyMessage)},p=function(){if(t.showFilterClear&&t.filterValue){var d=Ce("clear"),s=r({className:n("filterClearIcon"),"aria-label":d,onClick:function(){return t.onFilterClearIconClick(function(){return w.focus(b.current)})}},h("filterClearIcon")),v=t.filterClearIcon||u.createElement(Ye,s),L=ce.getJSXIcon(v,G({},s),{props:t});return L}return null},Z=function(){if(t.filter){var d=p(),s=r({className:n("filterIcon")},h("filterIcon")),v=t.filterIcon||u.createElement(hn,s),L=ce.getJSXIcon(v,G({},s),{props:t}),T=r({className:n("filterContainer",{clearIcon:d})},h("filterContainer")),x=r({ref:b,type:"text",autoComplete:"off",className:n("filterInput",{context:C}),placeholder:t.filterPlaceholder,onKeyDown:t.onFilterInputKeyDown,onChange:function(O){return z(O)},value:t.filterValue},h("filterInput")),N=u.createElement("div",T,u.createElement("input",x),d,L);if(t.filterTemplate){var J={className:R("p-dropdown-filter-container",{"p-dropdown-clearable-filter":!!d}),element:N,filterOptions:D,filterInputKeyDown:t.onFilterInputKeyDown,filterInputChange:z,filterIconClassName:"p-dropdown-filter-icon",clearIcon:d,props:t};N=f.getJSXElement(t.filterTemplate,J)}var Y=r({className:n("header")},h("header"));return u.createElement("div",Y,N)}return null},$=function(){if(t.virtualScrollerOptions){var d=G(G({},t.virtualScrollerOptions),{style:G(G({},t.virtualScrollerOptions.style),{height:t.scrollHeight}),className:R("p-dropdown-items-wrapper",t.virtualScrollerOptions.className),items:t.visibleOptions,autoSize:!0,onLazyLoad:function(x){return t.virtualScrollerOptions.onLazyLoad(G(G({},x),{filter:t.filterValue}))},itemTemplate:function(x,N){return x&&te(x,N.index,N)},contentTemplate:function(x){var N=t.hasFilter?t.emptyFilterMessage:t.emptyMessage,J=y?k(N):x.children,Y=r({ref:x.contentRef,style:x.style,className:R(x.className,n("list",{virtualScrollerProps:t.virtualScrollerOptions})),role:"listbox"},h("list"));return u.createElement("ul",Y,J)}});return u.createElement(On,U({ref:t.virtualScrollerRef},d,{pt:i("virtualScroller")}))}var s=V(),v=r({className:n("wrapper"),style:E("wrapper")},h("wrapper")),L=r({className:n("list"),role:"listbox"},h("list"));return u.createElement("div",v,u.createElement("ul",L,s))},W=function(){var d=Z(),s=$(),v=ee(),L=r({className:R(t.panelClassName,n("panel",{context:C})),style:E("panel"),onClick:t.onClick},h("panel")),T=r({classNames:n("transition"),in:t.in,timeout:{enter:120,exit:100},options:t.transitionOptions,unmountOnExit:!0,onEnter:q,onEntered:A,onExit:t.onExit,onExited:t.onExited},h("transition"));return u.createElement(En,U({nodeRef:a},T),u.createElement("div",U({ref:a},L),t.firstFocusableElement,d,s,v,t.lastFocusableElement))},S=W();return u.createElement(bn,{element:S,appendTo:t.appendTo})}));tt.displayName="DropdownPanel";function jn(t,a){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Mn(t))||a&&t&&typeof t.length=="number"){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(D){throw D},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E=!0,C=!1,b;return{s:function(){r=r.call(t)},n:function(){var D=r.next();return E=D.done,D},e:function(D){C=!0,b=D},f:function(){try{!E&&r.return!=null&&r.return()}finally{if(C)throw b}}}}function Mn(t,a){if(t){if(typeof t=="string")return ze(t,a);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ze(t,a)}}function ze(t,a){(a==null||a>t.length)&&(a=t.length);for(var r=0,i=new Array(a);r<a;r++)i[r]=t[r];return i}function Ze(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function B(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Ze(Object(r),!0).forEach(function(i){ve(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var Gn=u.memo(u.forwardRef(function(t,a){var r=Pe(),i=u.useContext(We),n=fe.getProps(t,i),E=u.useState(""),C=ue(E,2),b=C[0],y=C[1],D=u.useState(!1),h=ue(D,2),q=h[0],A=h[1],z=u.useState(-1),ee=ue(z,2),g=ee[0],k=ee[1],te=u.useState(!1),V=ue(te,2),p=V[0],Z=V[1],$=u.useRef(!1),W=u.useRef(null),S=u.useRef(null),P=u.useRef(null),d=u.useRef(null),s=u.useRef(n.inputRef),v=u.useRef(n.focusInputRef),L=u.useRef(null),T=u.useRef(null),x=u.useRef(null);u.useRef(null);var N=n.virtualScrollerOptions&&n.virtualScrollerOptions.lazy,J=f.isNotEmpty(b),Y=n.appendTo||i&&i.appendTo||ae.appendTo,Q=fe.setMetaData(B(B({props:n},n.__parentMetadata),{},{state:{filter:b,focused:q,overlayVisible:p}})),O=Q.ptm,K=Q.cx,nt=Q.sx,rt=Q.isUnstyled;dn(fe.css.styles,rt,{name:"dropdown"});var at=pn({target:W,overlay:S,listener:function(e,o){var c=o.type,m=o.valid;m&&(c==="outside"?!ke(e)&&j():j())},when:p}),Le=ue(at,2),ot=Le[0],lt=Le[1],De=function(e){return(e||[]).reduce(function(o,c,m){o.push({optionGroup:c,group:!0,index:m,code:c.code,label:c.label});var I=ie(c);return I&&I.forEach(function(re){return o.push(re)}),o},[])},it=function(){var e=n.optionGroupLabel?De(n.options):n.options;if(J&&!N){var o=b.trim().toLocaleLowerCase(n.filterLocale),c=n.filterBy?n.filterBy.split(","):[n.optionLabel||"label"];if(n.optionGroupLabel){var m=[],I=jn(n.options),re;try{for(I.s();!(re=I.n()).done;){var Ue=re.value,xe=$e.filter(ie(Ue),c,o,n.filterMatchMode,n.filterLocale);xe&&xe.length&&m.push(B(B({},Ue),ve({},"".concat(n.optionGroupChildren),xe)))}}catch(cn){I.e(cn)}finally{I.f()}return De(m)}return $e.filter(e,c,o,n.filterMatchMode,n.filterLocale)}return e},ut=function(e){var o=e.relatedTarget===v.current?w.getFirstFocusableElement(S.current,':not([data-p-hidden-focusable="true"])'):v.current;w.focus(o)},ct=function(e){var o=e.relatedTarget===v.current?w.getLastFocusableElement(S.current,':not([data-p-hidden-focusable="true"])'):v.current;w.focus(o)},ke=function(e){return w.isAttributeEquals(e.target,"data-pc-section","clearicon")||w.isAttributeEquals(e.target.parentElement||e.target,"data-pc-section","filterclearicon")},st=function(e){n.disabled||n.loading||(n.onClick&&n.onClick(e),!e.defaultPrevented&&(ke(e)||e.target.tagName==="INPUT"||((!S.current||!(S.current&&S.current.contains(e.target)))&&(w.focus(v.current),p?j():H()),$.current=!0)))},dt=function(e){n.showOnFocus&&!p&&H(),A(!0),n.onFocus&&n.onFocus(e)},Te=function(e){A(!1),n.onBlur&&setTimeout(function(){var o=s.current?s.current.value:void 0;n.onBlur({originalEvent:e.originalEvent,value:o,stopPropagation:function(){e.originalEvent.stopPropagation()},preventDefault:function(){e.originalEvent.preventDefault()},target:{name:n.name,id:n.id,value:o}})},200)},se=function(e,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,m=le(o);je({originalEvent:e,option:m}),c&&j()},pt=function(e){xn.emit("overlay-click",{originalEvent:e,target:W.current})},Re=function(e){if(n.disabled||w.isAndroid()){e.preventDefault();return}var o=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":he(e);break;case"ArrowUp":Ne(e);break;case"ArrowLeft":case"ArrowRight":Ke(e,n.editable);break;case"Home":It(e);break;case"End":wt(e);break;case"PageDown":xt(e);break;case"PageUp":Et(e);break;case"Space":St(e,n.editable);break;case"NumpadEnter":case"Enter":Oe(e);break;case"Escape":Ft(e);break;case"Tab":Ct(e);break;case"Backspace":Pt(e,n.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!o&&f.isPrintableCharacter(e.key)&&(!p&&!n.editable&&H(),!n.editable&&bt(e,e.key));break}$.current=!1},ft=function(e){switch(e.code){case"ArrowDown":he(e);break;case"ArrowUp":Ne(e);break;case"ArrowLeft":case"ArrowRight":Ke(e,!0);break;case"Escape":case"Enter":case"NumpadEnter":Oe(e),e.preventDefault();break}},vt=function(){return w.getFocusableElements(S.current,':not([data-p-hidden-focusable="true"])').length>0},me=function(e){var o;return ne(e)&&((o=_(e))===null||o===void 0?void 0:o.toLocaleLowerCase(n.filterLocale).startsWith(x.current.toLocaleLowerCase(n.filterLocale)))},ne=function(e){return f.isNotEmpty(e)&&!(Ve(e)||Vt(e))},mt=function(){return f.isNotEmpty(n.value)},gt=function(e){return ne(e)&&Ae(e)},de=function(){return mt?F.findIndex(function(e){return gt(e)}):-1},ge=function(){var e=de();return e<0?be():e},bt=function(e,o){x.current=(x.current||"")+o;var c=-1,m=!1;return f.isNotEmpty(x.current)&&(g!==-1?(c=F.slice(g).findIndex(function(I){return me(I)}),c=c===-1?F.slice(0,g).findIndex(function(I){return me(I)}):c+g):c=F.findIndex(function(I){return me(I)}),c!==-1&&(m=!0),c===-1&&g===-1&&(c=ge()),c!==-1&&X(e,c)),T.current&&clearTimeout(T.current),T.current=setTimeout(function(){x.current="",T.current=null},500),m},yt=function(){var e=de();return e<0?ye():e},be=function(){return F.findIndex(function(e){return ne(e)})},ye=function(){return f.findLastIndex(F,function(e){return ne(e)})},ht=function(e){var o=e<F.length-1?F.slice(e+1).findIndex(function(c){return ne(c)}):-1;return o>-1?o+e+1:e},Ot=function(e){var o=e>0?f.findLastIndex(F.slice(0,e),function(c){return ne(c)}):-1;return o>-1?o:e},X=function(e,o){g!==o&&(k(o),n.selectOnFocus&&se(e,F[o],!1))},he=function(e){if(!p)H(),n.editable&&X(e,de());else{var o=g!==-1?ht(g):$.current?be():ge();X(e,o)}e.preventDefault()},Ne=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!o)g!==-1&&se(e,F[g]),state.overlayVisible&&j(),e.preventDefault();else{var c=g!==-1?Ot(g):$.current?ye():yt();X(e,c),!p&&H(),e.preventDefault()}},Ke=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o&&k(-1)},It=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o?(e.currentTarget.setSelectionRange(0,0),k(-1)):(X(e,be()),!p&&H()),e.preventDefault()},wt=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o){var c=e.currentTarget,m=c.value.length;c.setSelectionRange(m,m),k(-1)}else X(e,ye()),!p&&H();e.preventDefault()},Et=function(e){e.preventDefault()},xt=function(e){e.preventDefault()},St=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!o&&Oe(e)},Oe=function(e){p?(g!==-1&&se(e,F[g]),j()):(k(-1),he(e)),e.preventDefault()},Ft=function(e){p&&j(),e.preventDefault()},Ct=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||(p&&!vt()?(w.focus(P.current),e.preventDefault()):(g!==-1&&se(e,F[g]),p&&j()))},Pt=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o&&!p&&H()},Lt=function(e){!p&&H();var o=null;e.target.value&&F&&(o=F.findIndex(function(c){return _(c).toLocaleLowerCase().startsWith(e.target.value.toLocaleLowerCase())})),k(o),n.onChange&&n.onChange({originalEvent:e.originalEvent,value:e.target.value,stopPropagation:function(){e.originalEvent.stopPropagation()},preventDefault:function(){e.originalEvent.preventDefault()},target:{name:n.name,id:n.id,value:e.target.value}})},Dt=function(e){A(!0),j(),n.onFocus&&n.onFocus(e)},kt=function(e){var o=e.option;o.disabled||(je(e),w.focus(v.current)),j()},Tt=function(e){var o=e.target.value;y(o),n.onFilter&&n.onFilter({originalEvent:e,filter:o})},Rt=function(e){pe(e)},pe=function(e){y(""),n.onFilter&&n.onFilter({filter:""}),e&&e()},Ie=function(e){n.onChange&&n.onChange({originalEvent:e,value:void 0,stopPropagation:function(){e==null||e.stopPropagation()},preventDefault:function(){e==null||e.preventDefault()},target:{name:n.name,id:n.id,value:void 0}}),n.filter&&pe(),He()},je=function(e){if(M!==e.option){He(e.option),k(-1);var o=le(e.option),c=we(e.option,F);n.onChange&&n.onChange({originalEvent:e.originalEvent,value:o,stopPropagation:function(){e.originalEvent.stopPropagation()},preventDefault:function(){e.originalEvent.preventDefault()},target:{name:n.name,id:n.id,value:o}}),X(e.originalEvent,c)}},Me=function(e){if(e=e||F,n.value!=null&&e)if(n.optionGroupLabel)for(var o=0;o<e.length;o++){var c=we(n.value,ie(e[o]));if(c!==-1)return{group:o,option:c}}else return we(n.value,e);return-1},Ge=function(){return n.optionValue?null:n.dataKey},we=function(e,o){var c=Ge();return o.findIndex(function(m){return f.equals(e,le(m),c)})},Ae=function(e){return f.equals(n.value,le(e),Ge())},H=function(){k(g!==-1?g:n.autoOptionFocus?ge():n.editable?-1:de()),Z(!0)},j=function(){Z(!1),$.current=!1},Nt=function(){n.editable&&!p&&$.current===!1&&w.focus(s.current)},Kt=function(e){Se.set("overlay",S.current,i&&i.autoZIndex||ae.autoZIndex,i&&i.zIndex.overlay||ae.zIndex.overlay),w.addStyles(S.current,{position:"absolute",top:"0",left:"0"}),Ee(),e&&e()},jt=function(e){e&&e(),ot(),n.onShow&&n.onShow()},Mt=function(){lt()},Gt=function(){n.filter&&n.resetFilterOnHide&&pe(),Se.clear(S.current),n.onHide&&n.onHide()},Ee=function(){w.alignOverlay(S.current,s.current.parentElement,n.appendTo||i&&i.appendTo||ae.appendTo)},At=function(){var e=w.findSingle(S.current,'li[data-p-focused="true"]');if(e&&e.scrollIntoView)e.scrollIntoView({block:"nearest",inline:"nearest"});else{var o=w.findSingle(S.current,'li[data-p-highlight="true"]');o&&o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"})}},He=function(e){s.current&&(s.current.value=e?_(e):n.value||"",v.current&&(v.current.value=s.current.value))},_=function(e){if(f.isScalar(e))return"".concat(e);var o=n.optionLabel?f.resolveFieldData(e,n.optionLabel):e.label;return"".concat(o)},le=function(e){var o=n.optionValue?f.resolveFieldData(e,n.optionValue):e?e.value:f.resolveFieldData(e,"value");return f.isNotEmpty(o)?o:e},Ht=function(e){return n.dataKey?f.resolveFieldData(e,n.dataKey):_(e)},Vt=function(e){return n.optionGroupLabel&&e.optionGroup&&e.group},Ve=function(e){return n.optionDisabled?f.isFunction(n.optionDisabled)?n.optionDisabled(e):f.resolveFieldData(e,n.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1},_t=function(e){return f.resolveFieldData(e,n.optionGroupLabel)},Bt=function(e){return f.resolveFieldData(e,n.optionGroupLabel)},ie=function(e){return f.resolveFieldData(e,n.optionGroupChildren)},Ut=function(){if(n.editable&&s.current){var e=M?_(M):null,o=e||n.value||"";s.current.value=o,v.current&&(v.current.value=o)}},$t=function(){var e=Me(n.options);return e!==-1?n.optionGroupLabel?ie(n.options[e.group])[e.option]:n.options[e]:null};u.useImperativeHandle(a,function(){return{props:n,show:H,hide:j,clear:Ie,focus:function(){return w.focus(v.current)},getElement:function(){return W.current},getOverlay:function(){return S.current},getInput:function(){return s.current},getFocusInput:function(){return v.current},getVirtualScroller:function(){return L.current}}}),u.useEffect(function(){f.combinedRefs(s,n.inputRef),f.combinedRefs(v,n.focusInputRef)},[s,n.inputRef,v,n.focusInputRef]),fn(function(){n.autoFocus&&w.focus(v.current,n.autoFocus),Ee()}),Fe(function(){p&&(n.value||g>=0)&&At()},[p,n.value,g]),Fe(function(){p&&b&&n.filter&&Ee()},[p,b,n.filter]),Fe(function(){b&&(!n.options||n.options.length===0)&&y(""),Ut(),s.current&&(s.current.selectedIndex=1)}),vn(function(){Se.clear(S.current)});var Jt=function(){var e={value:"",label:n.placeholder};if(M){var o=le(M);e={value:oe(o)==="object"?n.options.findIndex(function(re){return re===o}):o,label:_(M)}}var c=r({className:"p-hidden-accessible p-dropdown-hidden-select"},O("hiddenSelectedMessage")),m=r({ref:s,required:n.required,defaultValue:e.value,name:n.name,tabIndex:-1,"aria-hidden":"true"},O("select")),I=r({value:e.value},O("option"));return u.createElement("div",c,u.createElement("select",m,u.createElement("option",I,e.label)))},Xt=function(){var e=f.isNotEmpty(M)?_(M):null;n.editable&&(e=e||n.value||"");var o=r({className:"p-hidden-accessible"},O("hiddenSelectedMessage")),c=r(B({ref:v,id:n.inputId,defaultValue:e,type:"text",readOnly:!0,"aria-haspopup":"listbox",onFocus:dt,onBlur:Te,onKeyDown:Re,disabled:n.disabled,tabIndex:n.disabled?-1:n.tabIndex||0},Be),O("input"));return u.createElement("div",o,u.createElement("input",c))},qt=function(){var e=f.isNotEmpty(M)?_(M):null;if(n.editable){var o=e||n.value||"",c=r(B({ref:s,type:"text",defaultValue:o,className:K("input",{label:e}),disabled:n.disabled,placeholder:n.placeholder,maxLength:n.maxLength,onInput:Lt,onFocus:Dt,onKeyDown:Re,onBlur:Te,tabIndex:n.disabled?-1:n.tabIndex||0,"aria-haspopup":"listbox"},Be),O("input"));return u.createElement("input",c)}var m=n.valueTemplate?f.getJSXElement(n.valueTemplate,M,n):e||n.placeholder||n.emptyMessage||u.createElement(u.Fragment,null,"Â "),I=r({ref:s,className:K("input",{label:e}),tabIndex:"-1"},O("input"));return u.createElement("span",I,m)},zt=function(e){(e.key==="Enter"||e.code==="Space")&&(Ie(e),e.preventDefault())},Zt=function(){if(n.value!=null&&n.showClear&&!n.disabled&&!f.isEmpty(n.options)){var e=r({className:K("clearIcon"),onPointerUp:Ie,tabIndex:n.tabIndex||"0",onKeyDown:zt,"aria-label":Ce("clear")},O("clearIcon")),o=n.clearIcon||u.createElement(Ye,e);return ce.getJSXIcon(o,B({},e),{props:n})}return null},Wt=function(){var e=r({className:K("loadingIcon"),"data-pr-overlay-visible":p},O("loadingIcon")),o=n.loadingIcon||u.createElement(wn,{spin:!0}),c=ce.getJSXIcon(o,B({},e),{props:n}),m=n.placeholder||n.ariaLabel,I=r({className:K("trigger"),role:"button","aria-haspopup":"listbox","aria-expanded":p,"aria-label":m},O("trigger"));return u.createElement("div",I,c)},Yt=function(){var e=r({className:K("dropdownIcon"),"data-pr-overlay-visible":p},O("dropdownIcon")),o=n.dropdownIcon||u.createElement(yn,e),c=ce.getJSXIcon(o,B({},e),{props:n}),m=n.placeholder||n.ariaLabel,I=r({className:K("trigger"),role:"button","aria-haspopup":"listbox","aria-expanded":p,"aria-label":m},O("trigger"));return u.createElement("div",I,c)},F=it(),M=$t(),Qt=f.isNotEmpty(n.tooltip),_e=fe.getOtherProps(n),Be=f.reduceKeys(_e,w.ARIA_PROPS),en=Jt(),tn=Xt(),nn=qt(),rn=n.loading?Wt():Yt(),an=Zt(),on=r({id:n.id,ref:W,className:R(n.className,K("root",{context:i,focusedState:q,overlayVisibleState:p})),style:n.style,onClick:function(e){return st(e)},onMouseDown:n.onMouseDown,onContextMenu:n.onContextMenu,onFocus:Nt,"data-p-disabled":n.disabled,"data-p-focus":q},_e,O("root")),ln=r({ref:P,role:"presentation","aria-hidden":"true",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:ut,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},O("hiddenFirstFocusableEl")),un=r({ref:d,role:"presentation","aria-hidden":"true",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:ct,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},O("hiddenLastFocusableEl"));return u.createElement(u.Fragment,null,u.createElement("div",on,tn,en,nn,an,rn,u.createElement(tt,U({hostName:"Dropdown",ref:S,visibleOptions:F,virtualScrollerRef:L},n,{appendTo:Y,cx:K,filterValue:b,focusedOptionIndex:g,getOptionGroupChildren:ie,getOptionGroupLabel:Bt,getOptionGroupRenderKey:_t,getOptionLabel:_,getOptionRenderKey:Ht,getSelectedOptionIndex:Me,hasFilter:J,in:p,isOptionDisabled:Ve,isSelected:Ae,onClick:pt,onEnter:Kt,onEntered:jt,onExit:Mt,onExited:Gt,onFilterClearIconClick:Rt,onFilterInputChange:Tt,onFilterInputKeyDown:ft,onOptionClick:kt,ptm:O,resetFilter:pe,changeFocusedOptionIndex:X,firstFocusableElement:u.createElement("span",ln),lastFocusableElement:u.createElement("span",un),sx:nt}))),Qt&&u.createElement(mn,U({target:W,content:n.tooltip,pt:O("tooltip")},n.tooltipOptions)))}));Gn.displayName="Dropdown";export{Gn as D};
